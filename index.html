<!DOCTYPE html>
<html lang="ja">
<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZLP99Q3X4T"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-ZLP99Q3X4T');
  </script>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="description" content="ホワイトアウトサバイバルの攻略データベース。建築・研究・英雄・装備などのコスト計算ツールを無料で提供しています。まゆか【ホワサバ攻略チャンネル】を運営。">

<meta property="og:title" content="ホワサバ｜攻略データベース">
<meta property="og:type" content="website">
<meta property="og:description" content="MAYUKA監修｜計算＆診断ツールサイト。あなたの育成効率化を応援します！">
  <meta property="og:url" content="https://wos-calc.com">

  <meta property="og:image" content="https://wos-calc.com/picture/ogp.png">

  <meta property="og:site_name" content="WOS Tools by Mayuka">

  <meta name="twitter:card" content="summary_large_image">
 <link rel="icon" href="https://wos-calc.com/picture/siteicon.jpeg">
<link rel="apple-touch-icon" href="https://wos-calc.com/picture/siteicon.jpeg">

  <link rel="canonical" href="https://wos-calc.com">

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "ホワサバ｜攻略データベース",
    "url": "https://wos-calc.com",
    "author": {
      "@type": "Person",
      "name": "MAYUKA",
      "url": "https://youtube.com/@mayuka-bp8kt"
    },
    "description": "ホワイトアウトサバイバルの攻略・計算＆診断ツール"
  }
  </script>

<title>ホワサバ｜攻略データベース</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">

<style>
  :root {
    --bg-deep: #020617;
    --glass-surface: rgba(255, 255, 255, 0.03);
    --glass-border: rgba(255, 255, 255, 0.15);
    --accent-ice: #22d3ee;
    --accent-fire: #f97316;
    --text-main: #f1f5f9;
    --text-sub: #94a3b8;
  }

  html { scroll-behavior: smooth; }

  body {
    margin: 0; padding: 0;
    font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", sans-serif;
    background-color: var(--bg-deep);
    color: var(--text-main);
    min-height: 100vh;
    display: flex; flex-direction: column; align-items: center;
    overflow-x: hidden;
  }

  /* 背景設定 */
  .bg-layer {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    z-index: -2;
    background-image: url('image.png');
    background-size: cover;
    background-position: center;
    filter: brightness(0.6) contrast(1.1) blur(2px);
  }
  .bg-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    z-index: -1;
    background: radial-gradient(circle at center, transparent 0%, var(--bg-deep) 90%);
    pointer-events: none;
  }
  .snow-container {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; z-index: 0;
    background-image: url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIj48Y2lyY2xlIGN4PSI1IiBjeT0iNSIgcj0iMSIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjMpIi8+PC9zdmc+');
    animation: snow 25s linear infinite;
    opacity: 0.6;
  }
  @keyframes snow { 0% { background-position: 0 0; } 100% { background-position: 50px 500px; } }

  .container {
    position: relative; z-index: 1; width: 100%; max-width: 1000px;
    padding: 80px 20px; box-sizing: border-box;
  }

  /* ヘッダー */
  header { text-align: center; margin-bottom: 70px; }
  h1 {
    font-size: 3.5rem; font-weight: 900; margin: 0; letter-spacing: 0.15em;
    color: var(--text-main); text-transform: uppercase;
    text-shadow: 0 0 20px rgba(34, 211, 238, 0.4);
    line-height: 1.1; margin-bottom: 15px;
  }
  p.subtitle {
    font-size: 0.85rem; color: var(--accent-ice); letter-spacing: 0.4em;
    text-transform: uppercase; opacity: 0.9; margin: 0;
  }

  /* ナビゲーション */
  .toc-nav { display: flex; justify-content: center; gap: 40px; margin-bottom: 80px; }
  .toc-link {
    color: var(--text-sub); text-decoration: none; font-size: 0.9rem;
    letter-spacing: 0.1em; position: relative; transition: 0.3s; padding-bottom: 5px;
  }
  .toc-link::after {
    content: ''; position: absolute; bottom: 0; left: 0; width: 0%; height: 1px;
    background-color: var(--accent-ice); transition: 0.3s;
  }
  .toc-link:hover { color: var(--accent-ice); }
  .toc-link:hover::after { width: 100%; }

  /* セクション見出し */
  .section-title {
    font-size: 1.5rem; font-weight: 300; letter-spacing: 0.1em;
    color: var(--text-main); margin-bottom: 30px;
    display: flex; align-items: center; gap: 15px;
  }
  .section-title::before {
    content: ''; display: block; width: 4px; height: 24px;
    background: var(--accent-ice); box-shadow: 0 0 10px var(--accent-ice);
  }

  /* フィルタボタン */
  .filter-wrapper {
    display: flex; gap: 10px; margin-bottom: 40px; flex-wrap: wrap;
  }
  .filter-btn {
    background: transparent; border: 1px solid var(--glass-border); color: var(--text-sub);
    padding: 8px 16px; border-radius: 4px; cursor: pointer;
    font-size: 0.8rem; letter-spacing: 0.1em; transition: all 0.3s;
  }
  .filter-btn:hover, .filter-btn.active {
    background: rgba(34, 211, 238, 0.1); border-color: var(--accent-ice); color: var(--accent-ice);
  }

  /* カードグリッド */
  .tools-grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; margin-bottom: 80px;
  }

  /* ツールカード */
  .tool-card {
    display: block; position: relative;
    background: var(--glass-surface); border: 1px solid var(--glass-border);
    backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    padding: 25px; text-decoration: none; color: var(--text-main);
    transition: all 0.4s ease; overflow: hidden; border-radius: 6px;
  }
  .tool-card:hover {
    border-color: var(--accent-ice); background: rgba(34, 211, 238, 0.05);
    transform: translateY(-5px); box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);
  }
  .tool-card.hidden { display: none; }

  /* Coming Soonのカードはクリック不可に見せる */
  .tool-card.disabled {
    opacity: 0.5; pointer-events: none;
  }

  /* カテゴリラベル */
  .cat-label {
    position: absolute; top: 0; right: 0; font-size: 0.65rem; font-weight: 700;
    padding: 4px 10px; color: #000; text-transform: uppercase; letter-spacing: 0.1em;
  }
  .cat-expert { background: var(--accent-ice); }
  .cat-build { background: var(--accent-fire); }
  .cat-hero { background: #cbd5e1; }
  .cat-charge { background: #eab308; }
  .cat-chief { background: #ef4444; color: #fff; }
  .cat-type { background: #10b981; color: #fff; }
  .cat-pet { background: #d946ef; color: #fff; }
  .cat-technology { background: #3b82f6; color: #fff; }

  .card-icon { font-size: 2rem; color: var(--text-sub); margin-bottom: 15px; transition: 0.3s; }
  .tool-card:hover .card-icon { color: var(--accent-ice); text-shadow: 0 0 10px var(--accent-ice); }
  .card-title { font-size: 1.1rem; font-weight: 600; margin-bottom: 8px; letter-spacing: 0.05em; }
  .card-desc { font-size: 0.85rem; color: var(--text-sub); line-height: 1.5; }

  /* コミュニティ */
  .comm-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
  .comm-link {
    display: flex; align-items: center; gap: 15px;
    background: rgba(0,0,0,0.3); border: 1px solid var(--glass-border);
    padding: 20px; text-decoration: none; color: var(--text-main);
    transition: 0.3s; border-radius: 6px;
  }
  .comm-link:hover {
    background: rgba(34, 211, 238, 0.1);
    border-color: var(--accent-ice);    
    color: var(--accent-ice);           
  }
  .comm-icon { font-size: 1.5rem; }
  .yt-icon { color: #ef4444; }
  .discord-icon { color: #5865F2; }
  .line-icon, .btn-line { color: #fff; background-color: #06C755; }
  .line-text-icon { color: #06C755; }

  /* 運営者情報 */
  .footer-profile {
    margin-top: 80px; padding: 30px; border-top: 1px solid var(--glass-border);
    display: flex; align-items: center; gap: 20px; text-align: left;
    background: rgba(0, 0, 0, 0.2); border-radius: 8px;
  }
  @media (max-width: 600px) {
    .footer-profile { flex-direction: column; text-align: center; }
  }
  .profile-img {
    width: 80px; height: 80px; border-radius: 50%; object-fit: cover;
    border: 2px solid var(--accent-ice); box-shadow: 0 4px 15px rgba(34, 211, 238, 0.2);
    flex-shrink: 0; background-color: #fff;
  }
  .profile-info { flex: 1; }
  .profile-title { font-size: 0.75rem; color: var(--accent-ice); margin-bottom: 5px; font-weight: 700; letter-spacing: 0.05em; text-transform: uppercase; }
  .profile-name { font-size: 1.1rem; font-weight: 800; margin: 0 0 10px 0; color: var(--text-main); }
  .profile-description { font-size: 0.85rem; color: var(--text-sub); line-height: 1.6; margin: 0; }

  /* シェアボタン */
  .share-area { margin-top: 50px; text-align: center; padding-bottom: 20px; }
  .share-label { font-size: 0.8rem; color: var(--text-sub); margin-bottom: 15px; letter-spacing: 0.1em; }
  .share-buttons { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; }
  .share-btn {
    display: inline-flex; align-items: center; justify-content: center; gap: 8px;
    padding: 10px 20px; border-radius: 30px; text-decoration: none;
    font-size: 0.9rem; font-weight: bold; color: #fff; transition: all 0.3s;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3); cursor: pointer; border: none;
  }
  .btn-x { background-color: #000; border: 1px solid var(--glass-border); }
  .btn-copy { background-color: #475569; border: 1px solid var(--glass-border); }
  .share-btn:hover { opacity: 0.9; transform: translateY(-3px); }

  /* --- フッターエリア --- */
  footer {
    margin-top: auto; padding: 40px 20px; 
    border-top: 1px solid var(--glass-border);
    width: 100%; text-align: center; 
    color: var(--text-sub); 
    font-size: 0.8rem; letter-spacing: 0.1em;
    box-sizing: border-box; /* 追記: パディングによる横揺れ防止 */
  }

  /* 免責事項・規約エリア (デザイン修正版) */
  .footer-disclaimer {
    margin: 0 auto 30px auto; 
    max-width: 800px;
    padding: 20px;
    background: rgba(0, 0, 0, 0.3); /* 背景を少し濃く */
    border: 1px solid var(--glass-border); /* 枠線を追加 */
    border-radius: 8px;

    font-size: 0.8rem; /* 文字サイズUP */
    color: var(--text-sub);
    opacity: 1; /* 透明度を削除してくっきり */
    line-height: 1.8; 
    text-align: center;
  }
  .footer-disclaimer p { margin: 0 0 15px 0; }
  .footer-disclaimer p:last-child { margin-bottom: 0; }

  /* 規約リンクのスタイル */
  .policy-link {
    color: var(--accent-ice) !important; /* ネオンブルーを強制 */
    text-decoration: none;
    font-weight: bold;
    border-bottom: 1px solid transparent;
    transition: 0.3s;
    display: inline-block;
  }
  .policy-link:hover {
    border-bottom-color: var(--accent-ice);
    text-shadow: 0 0 10px rgba(34, 211, 238, 0.6);
  }

  /* トップへ戻るボタン */
  #page-top-btn {
    position: fixed; bottom: 20px; right: 20px; z-index: 100;
    width: 50px; height: 50px; background: rgba(34, 211, 238, 0.2);
    border: 1px solid var(--accent-ice); border-radius: 50%;
    color: var(--accent-ice); font-size: 1.2rem;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; opacity: 0; pointer-events: none; transition: 0.3s;
    backdrop-filter: blur(5px);
  }
  #page-top-btn.show { opacity: 1; pointer-events: auto; }
  #page-top-btn:hover { background: rgba(34, 211, 238, 0.4); transform: translateY(-3px); }

</style>
</head>
<body>
  <div class="bg-layer"></div>
  <div class="bg-overlay"></div>
  <div class="snow-container"></div>

  <div class="container">
    <header>
      <h1>WHITEOUT<br>SURVIVAL</h1>
      <p class="subtitle">STRATEGY DATABASE</p>
    </header>

    <nav class="toc-nav">
      <a href="#featured-video" class="toc-link">GUIDE</a>
      <a href="#calc" class="toc-link">CALCULATOR</a>
      <a href="#community" class="toc-link">COMMUNITY</a>
    </nav>

    <div style="max-width: 800px; margin: 0 auto 50px auto; background: rgba(255,255,255,0.05); padding: 20px; border-radius: 8px; border-left: 4px solid #22d3ee;">
      <h3 style="margin-top: 0; font-size: 1rem; color: #22d3ee;">
        <i class="fas fa-history"></i> UPDATES
      </h3>
      <ul style="list-style: none; padding: 0; margin: 0; font-size: 0.85rem; color: #cbd5e1;">
        <li style="margin-bottom: 8px;">
          <span style="opacity: 0.6;">2026.01.24</span> 各ツールにSVSポイント自動計算を追加しました！
        </li>
        <li style="margin-bottom: 8px;">
          <span style="opacity: 0.6;">2026.01.22</span> 当サイトを正式オープンしました！
        </li>
        <li style="margin-bottom: 8px;">
          <span style="opacity: 0.6;">2026.01.17</span> 当サイトをプレオープンしました！
        </li>
      </ul>
      </div>

      <section id="featured-video" style="margin-bottom: 60px;">
        <div class="section-title">FEATURED GUIDE</div>
        <div style="position: relative; width: 100%; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; border: 1px solid var(--glass-border); box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);">
          <iframe id="latest-video" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" 
            src="" 
            title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
          </iframe>
        </div>
        <p style="text-align: right; font-size: 0.8rem; margin-top: 10px;">
          <a href="https://youtube.com/@mayuka-bp8kt" target="_blank" style="color: var(--accent-ice); text-decoration: none;">
            <i class="fas fa-play-circle"></i> もっと動画を見る
          </a>
        </p>

        <script>
          (function() {
            const channelId = 'UCkGmzzofNPR9UvpSEYR7heg';
            const rssUrl = `https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Fwww.youtube.com%2Ffeeds%2Fvideos.xml%3Fchannel_id%3D${channelId}`;

            fetch(rssUrl)
              .then(response => response.json())
              .then(data => {
                const iframe = document.getElementById('latest-video');
                if (data.items && data.items.length > 0) {
                  const latestVideoUrl = data.items[0].link;
                  const videoId = latestVideoUrl.split('v=')[1];
                  iframe.src = `https://www.youtube.com/embed/${videoId}?rel=0`;
                } else {
                  iframe.src = "https://www.youtube.com/embed/MvJd81v9FKI?rel=0";
                }
              })
              .catch(error => {
                console.error('Error fetching YouTube RSS:', error);
                document.getElementById('latest-video').src = "https://www.youtube.com/embed/MvJd81v9FKI?rel=0";
              });
          })();
        </script>
    </section>

    <section id="calc">
      <div class="section-title">CALCULATOR</div>

      <div class="filter-wrapper">
        <button class="filter-btn active" data-filter="all">ALL</button>
        <button class="filter-btn" data-filter="building">BUILDING</button>
        <button class="filter-btn" data-filter="technology">TECHNOLOGY</button> 
        <button class="filter-btn" data-filter="hero">HERO</button>
        <button class="filter-btn" data-filter="chief">CHIEF</button>
        <button class="filter-btn" data-filter="pet">PET</button> 
        <button class="filter-btn" data-filter="expert">EXPERT</button>
        <button class="filter-btn" data-filter="charge">CHARGE</button>
        <button class="filter-btn" data-filter="type">TYPE CHECKER</button>
      </div>

      <div class="tools-grid">
        <a href="building.html" class="tool-card" data-category="building">
          <span class="cat-label cat-build">Building</span>
          <div class="card-icon"><i class="fas fa-industry"></i></div>
          <div class="card-title">建築コスト計算機</div>
          <div class="card-desc">軍備施設・火晶建造物のアップグレードに必要なコストを計算</div>
        </a>

        <a href="technology.html" class="tool-card" data-category="technology">
          <span class="cat-label cat-technology">TECHNOLOGY</span>
          <div class="card-icon"><i class="fas fa-flask"></i></div>
          <div class="card-title">研究コスト計算機</div>
          <div class="card-desc">科学研究・戦争学園研究に必要なコストを計算</div>
        </a>

        <a href="hero.html" class="tool-card" data-category="hero">
          <span class="cat-label cat-hero">Hero</span>
          <div class="card-icon"><i class="fas fa-snowflake"></i></div>
          <div class="card-title">英雄進化コスト計算機</div>
          <div class="card-desc">英雄の進化に必要なピース数を計算</div>
        </a>

        <a href="hero_gear.html" class="tool-card" data-category="hero">
          <span class="cat-label cat-hero">Hero</span>
          <div class="card-icon"><i class="fas fa-shield-alt"></i></div>
          <div class="card-title">英雄装備コスト計算機</div>
          <div class="card-desc">英雄装備レベル・精錬レベルの強化に必要なコストを計算</div>
        </a>

        <a href="chief_gear.html" class="tool-card" data-category="chief">
          <span class="cat-label cat-chief">Chief</span>
          <div class="card-icon"><i class="fas fa-crown"></i></div>
          <div class="card-title">領主装備コスト計算機</div>
          <div class="card-desc">領主装備の強化に必要なコストを計算</div>
        </a>

        <a href="chief_charm.html" class="tool-card" data-category="chief">
          <span class="cat-label cat-chief">Chief</span>
          <div class="card-icon"><i class="fas fa-gem"></i></div>
          <div class="card-title">領主宝石コスト計算機</div>
          <div class="card-desc">宝石のレベルアップに必要なコストを計算</div>
        </a>

        <a href="pet.html" class="tool-card" data-category="pet">
          <span class="cat-label cat-pet">Pet</span>
          <div class="card-icon"><i class="fas fa-paw"></i></div>
          <div class="card-title">ペットコスト計算機</div>
          <div class="card-desc">ペットのレベル・スキル強化に必要なコストを計算</div>
        </a>

        <a href="expert.html" class="tool-card" data-category="expert">
          <span class="cat-label cat-expert">Expert</span>
          <div class="card-icon"><i class="fas fa-user-astronaut"></i></div>
          <div class="card-title">専門家コスト計算機</div>
          <div class="card-desc">好感度・印・スキルの強化に必要なコストを計算</div>
        </a>

        <a href="vip.html" class="tool-card" data-category="charge">
          <span class="cat-label cat-charge">Charge</span>
          <div class="card-icon"><i class="fas fa-coins"></i></div>
          <div class="card-title">VIPコスト計算機</div>
          <div class="card-desc">VIPランクアップに必要なチャージ額を計算</div>
        </a>

        <a href="diagnosis.html" class="tool-card" data-category="type">
          <span class="cat-label cat-type">Type</span>
          <div class="card-icon"><i class="fas fa-list-check"></i></div>
          <div class="card-title">育成タイプ診断</div>
          <div class="card-desc">質問に回答して育成タイプを診断！<br>あなた専用のアドバイスをお届けします！</div>
        </a>

        <div class="tool-card disabled" data-category="other">
          <span class="cat-label" style="background: #64748b; color: #fff;">COMING SOON</span>
          <div class="card-icon"><i class="fas fa-lock"></i></div>
          <div class="card-title">新機能開発中...</div>
          <div class="card-desc">現在、新しい計算ツールを準備しています。<br>公開まで今しばらくお待ちください。</div>
        </div>

      </div>
    </section>

    <section id="community">
      <div class="section-title">COMMUNITY</div>
      <div class="comm-grid">
        <a href="https://youtube.com/@mayuka-bp8kt?si=1G8iCuOOrxbe3MlD" target="_blank" class="comm-link">
          <i class="fab fa-youtube comm-icon yt-icon"></i>
          <div>
            <div style="font-weight:bold; font-size:0.9rem;">YouTube Channel</div>
            <div style="font-size:0.75rem; color:#aaa;">
              <span style="color: #f87171;">●</span> 最新の攻略・解説動画を配信
            </div>
          </div>
        </a>
        <a href="https://www.youtube.com/channel/UCkGmzzofNPR9UvpSEYR7heg/join" target="_blank" class="comm-link">
          <i class="fab fa-discord comm-icon discord-icon"></i>
          <div>
            <div style="font-weight:bold; font-size:0.9rem;">Discord Community</div>
            <div style="font-size:0.75rem; color:#aaa;">
              <span style="color: #5865F2;">●</span> 参加者募集中！個別相談や検証など
            </div>
          </div>
        </a>
        <a href="https://lin.ee/Bpo3GE7" target="_blank" class="comm-link">
          <i class="fab fa-line comm-icon line-text-icon"></i>
          <div>
            <div style="font-weight:bold; font-size:0.9rem;">Official LINE</div>
            <div style="font-size:0.75rem; color:#aaa;">
              <span style="color: #06C755;">●</span> 限定オファーや最新情報通知
            </div>
          </div>
        </a>
      </div>
    </section>

    <div class="footer-profile">
      <img src="https://wos-calc.com/picture/prof.jpeg" alt="Mayuka Profile Icon" class="profile-img" loading="lazy">
      <div class="profile-info">
          <p class="profile-title">SITE OWNER / YouTuber</p>
          <p class="profile-name">MAYUKA</p>
          <p class="profile-description">
            YouTubeにて「ホワイトアウトサバイバル」の攻略情報を発信中。<br>
            プレイヤーの育成効率化を目指して活動をしています。
          </p>
      </div>
    </div>

    <div class="share-area">
      <div class="share-label">SHARE THIS SITE</div>
      <div class="share-buttons">
        <a href="https://twitter.com/intent/tweet?text=ホワサバ攻略データベース｜計算＆診断ツール&url=https://wos-calc.com&hashtags=ホワサバ,ホワイトアウトサバイバル" target="_blank" class="share-btn btn-x">
          <i class="fab fa-x-twitter"></i> Post
        </a>
        <a href="https://social-plugins.line.me/lineit/share?url=https://wos-calc.com" target="_blank" class="share-btn btn-line">
          <i class="fab fa-line"></i> Send
        </a>
        <button class="share-btn btn-copy" onclick="copyUrl()">
          <i class="fas fa-link"></i> Copy
        </button>
      </div>
    </div>

  </div>  

  <footer>
    <div class="footer-disclaimer">
      <p>
        当サイトは「ホワイトアウトサバイバル」の非公式ファンツールです。<br>
        使用している画像の著作権・商標権は各権利所有者に帰属します。
      </p>

      <p>
        <a href="privacy.html" style="color: #94a3b8; text-decoration: underline;">利用規約・免責事項・プライバシーポリシー</a>
      </p>

    &copy; 2026 WOS Tools Created by MAYUKA
  </footer>

  <div id="page-top-btn" onclick="window.scrollTo({top: 0, behavior: 'smooth'});">
    <i class="fas fa-chevron-up"></i>
  </div>

  <script>
    // URLコピー機能
    function copyUrl() {
      const urlToCopy = "https://wos-calc.com";
      navigator.clipboard.writeText(urlToCopy)
        .then(() => alert("URLをコピーしました！\nDiscordやSNSに貼り付けてシェアしてください。"))
        .catch(err => console.error('コピーに失敗しました', err));
    }

    // スクロール検知でボタン表示
    window.addEventListener('scroll', () => {
      const btn = document.getElementById('page-top-btn');
      if (window.scrollY > 300) btn.classList.add('show');
      else btn.classList.remove('show');
    });

    /* -------------------------------------------------------
       ▼ DOM読み込み完了後の処理まとめ
       ------------------------------------------------------- */
    document.addEventListener('DOMContentLoaded', () => {

      // 1. フィルタ機能
      const btns = document.querySelectorAll('.filter-btn');
      const cards = document.querySelectorAll('.tool-card[data-category]');
      btns.forEach(btn => {
        btn.addEventListener('click', () => {
          btns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          const filter = btn.getAttribute('data-filter');
          cards.forEach(card => {
            if (filter === 'all' || card.getAttribute('data-category') === filter) card.classList.remove('hidden');
            else card.classList.add('hidden');
          });
          // 計測イベント送信
          if (typeof gtag === 'function') {
            gtag('event', 'click_filter', { 'event_category': 'ui_interaction', 'event_label': btn.innerText });
          }
        });
      });

      // 2. ツールカードのクリック計測
      document.querySelectorAll('.tool-card').forEach(card => {
        card.addEventListener('click', () => {
          if (typeof gtag === 'function') {
            gtag('event', 'select_tool', {
              'event_category': 'calculator',
              'event_label': card.querySelector('.card-title').innerText
            });
          }
        });
      });

      // 3. コミュニティリンク計測
      document.querySelectorAll('.comm-link').forEach(link => {
        link.addEventListener('click', () => {
          if (typeof gtag === 'function') {
            gtag('event', 'click_community', {
              'event_category': 'outbound',
              'event_label': link.querySelector('div > div:first-child').innerText
            });
          }
        });
      });

      // 4. 動画リンク計測
      const videoMoreLink = document.querySelector('#featured-video a');
      if(videoMoreLink) {
        videoMoreLink.addEventListener('click', () => {
          if (typeof gtag === 'function') {
            gtag('event', 'click_video_more', { 'event_category': 'engagement', 'event_label': 'Latest Video Link' });
          }
        });
      }

      // 5. シェアボタン計測
      document.querySelectorAll('.share-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          let shareMethod = 'unknown';
          if (btn.classList.contains('btn-x')) shareMethod = 'X (Twitter)';
          else if (btn.classList.contains('btn-line')) shareMethod = 'LINE';
          else if (btn.classList.contains('btn-copy')) shareMethod = 'Copy URL';

          if (typeof gtag === 'function') {
            gtag('event', 'share', { 'method': shareMethod, 'content_type': 'website', 'item_id': 'wos-calc-home' });
          }
        });
      });

    });
  </script>

</body>
</html>
