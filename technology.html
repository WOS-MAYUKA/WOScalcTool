<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>研究コスト計算機 | WOS Tools</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">

<style>
  /* --- 共通デザイン定義 --- */
  :root {
    --bg-deep: #020617;
    --glass-surface: rgba(255, 255, 255, 0.03);
    --glass-border: rgba(255, 255, 255, 0.15);
    --accent-ice: #22d3ee;
    --accent-fire: #f97316;
    --text-main: #f1f5f9;
    --text-sub: #94a3b8;
  }

  html { scroll-behavior: smooth; }

  body {
    margin: 0; padding: 0;
    font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", sans-serif;
    background-color: var(--bg-deep);
    color: var(--text-main);
    min-height: 100vh;
    display: flex; flex-direction: column; align-items: center;
    overflow-x: hidden;
  }

  /* 背景設定 */
  .bg-layer {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    z-index: -2;
    background-image: url('image.png');
    background-size: cover;
    background-position: center;
    filter: brightness(0.6) contrast(1.1) blur(2px);
  }
  .bg-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    z-index: -1;
    background: radial-gradient(circle at center, transparent 0%, var(--bg-deep) 90%);
    pointer-events: none;
  }
  .snow-container {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; z-index: 0;
    background-image: url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIj48Y2lyY2xlIGN4PSI1IiBjeT0iNSIgcj0iMSIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjMpIi8+PC9zdmc+');
    animation: snow 25s linear infinite;
    opacity: 0.6;
  }
  @keyframes snow { 0% { background-position: 0 0; } 100% { background-position: 50px 500px; } }

  /* コンテナ */
  .container {
    position: relative; z-index: 1; width: 100%; max-width: 800px;
    padding: 40px 20px; box-sizing: border-box;
  }

  /* ナビゲーション */
  .nav-back {
    display: inline-flex; align-items: center; gap: 8px;
    color: var(--text-sub); text-decoration: none;
    margin-bottom: 30px; transition: 0.3s; font-size: 0.9rem;
  }
  .nav-back:hover { color: var(--accent-ice); transform: translateX(-5px); }

  /* カードデザイン */
  .calc-card {
    background: var(--glass-surface);
    backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    padding: 30px;
    box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);
  }

  h2 {
    text-align: center; font-size: 1.8rem; margin: 0 0 30px 0;
    color: var(--text-main); letter-spacing: 0.1em;
    text-shadow: 0 0 15px rgba(34, 211, 238, 0.3);
    border-bottom: 1px solid var(--glass-border);
    padding-bottom: 20px;
  }

  label {
    display: block; margin-top: 20px; margin-bottom: 8px;
    font-weight: 700; font-size: 0.9rem; color: var(--accent-ice);
    letter-spacing: 0.05em;
  }

  /* 入力フォーム */
  select, input:not([type="checkbox"]) {
    width: 100%; padding: 14px;
    background-color: rgba(0, 0, 0, 0.4);
    border: 1px solid var(--glass-border);
    border-radius: 8px;
    color: var(--text-main); font-size: 16px;
    box-sizing: border-box; transition: 0.3s;
    appearance: none; -webkit-appearance: none;
  }
  select:focus, input:not([type="checkbox"]):focus {
    border-color: var(--accent-ice); outline: none;
    box-shadow: 0 0 10px rgba(34, 211, 238, 0.2);
    background-color: rgba(0, 0, 0, 0.6);
  }

  /* タブデザイン */
  .tab-container {
    display: flex; gap: 10px; margin: 0 0 20px 0;
    background: rgba(0,0,0,0.2); padding: 5px; border-radius: 8px;
    border: 1px solid var(--glass-border);
  }
  .tab-btn {
    flex: 1; padding: 12px;
    background: transparent; border: 1px solid transparent; border-radius: 6px;
    color: var(--text-sub); font-weight: bold; cursor: pointer;
    transition: 0.3s; letter-spacing: 0.1em;
  }
  .tab-btn:hover { color: var(--accent-ice); }
  .tab-btn.active {
    background: rgba(34, 211, 238, 0.15);
    border-color: var(--accent-ice);
    color: var(--accent-ice);
    box-shadow: 0 0 10px rgba(34, 211, 238, 0.1);
  }
  .tab-content { display: none; animation: fadeIn 0.3s; }
  .tab-content.active { display: block; }

  /* 研究リストブロック */
  .research-item-block {
    background: rgba(255,255,255,0.02);
    padding: 20px; border-radius: 8px; margin-top: 15px;
    border: 1px solid var(--glass-border);
    transition: 0.3s;
  }
  .research-item-block:hover {
    background: rgba(255,255,255,0.05);
    border-color: rgba(34, 211, 238, 0.3);
  }
  .research-item-block.active {
    background: rgba(34, 211, 238, 0.05);
    border-color: var(--accent-ice);
  }

  .research-header {
    font-size: 1rem; color: var(--text-main); margin-bottom: 0;
    font-weight: bold; display: flex; align-items: center; gap: 10px;
    cursor: pointer;
  }
  .research-header input[type="checkbox"] {
    appearance: auto; -webkit-appearance: auto; 
    width: 20px; height: 20px; margin: 0; 
    accent-color: var(--accent-ice);
    cursor: pointer;
  }

  .research-inputs {
    display: flex; gap: 20px;
    overflow: hidden; max-height: 0; opacity: 0; transition: 0.3s ease;
    margin-top: 0;
  }
  .research-item-block.active .research-inputs {
    max-height: 200px; opacity: 1; margin-top: 15px;
  }

  .research-inputs div { flex: 1; }
  .research-inputs label {
    margin-top: 0; font-size: 0.75rem; color: var(--text-sub); margin-bottom: 5px;
  }

  /* テキスト系 */
  .effect-text {
    font-size: 0.85rem; color: var(--accent-ice);
    margin-top: 5px; margin-bottom: 15px; font-weight: normal;
  }
  .research-header-sub {
    font-size: 0.8rem; color: var(--text-sub); margin-left: auto;
  }
  .aca-effect {
    font-size: 0.8rem; color: var(--accent-ice); margin-top: 4px; padding-left: 30px;
  }

  /* 計算ボタン */
  button.calc-btn {
    width: 100%;
    background: linear-gradient(135deg, var(--accent-ice), #0ea5e9);
    color: #fff; padding: 18px; border: none; border-radius: 50px;
    font-size: 1.1rem; font-weight: bold; margin-top: 40px;
    cursor: pointer; transition: 0.3s; letter-spacing: 0.1em;
    box-shadow: 0 4px 15px rgba(34, 211, 238, 0.3);
  }
  button.calc-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(34, 211, 238, 0.5);
  }
  button.calc-btn:active { transform: scale(0.98); }

  /* 結果表示エリア */
  .result-container {
    margin-top: 40px; background-color: rgba(0,0,0,0.3);
    border-radius: 12px; padding: 25px;
    border: 1px solid var(--accent-ice);
    box-shadow: inset 0 0 20px rgba(34, 211, 238, 0.05);
    animation: fadeIn 0.5s ease;
    display: none;
  }
  @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

  .result-row {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 12px; padding-bottom: 12px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
  }
  .result-row:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
  .result-label { font-size: 0.9rem; color: var(--text-sub); display: flex; align-items: center; gap: 8px; }
  .result-value {
    font-size: 1.2rem; font-weight: 800; color: var(--accent-ice);
    font-family: "Helvetica Neue", sans-serif;
    text-shadow: 0 0 10px rgba(34, 211, 238, 0.3);
  }

  /* リソースアイコン色 */
  .icon-meat { color: #f87171; }
  .icon-wood { color: #fbbf24; }
  .icon-coal { color: #60a5fa; }
  .icon-iron { color: #94a3b8; }
  .icon-steel { color: #cbd5e1; } /* 鋼材 */
  .icon-fc   { color: #f43f5e; text-shadow: 0 0 5px #f43f5e; }
  .icon-time { color: #a3e635; }

  /* YouTube埋め込み用 */
  .youtube-wrapper { width: 100%; max-width: 800px; margin: 40px auto; text-align: center; }
  .youtube-container {
    position: relative; width: 100%; aspect-ratio: 16 / 9;
    background: #000; border: 1px solid #22d3ee; border-radius: 12px;
    box-shadow: 0 0 15px rgba(34, 211, 238, 0.2); overflow: hidden;
  }
  .youtube-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
  .video-caption { color: #22d3ee; font-size: 0.9rem; margin-top: 10px; font-weight: bold; }
  
  /* --- 研究速度入力エリア用 --- */
  .speed-container {
    margin-top: 20px;
    padding: 15px;
    background: rgba(34, 211, 238, 0.05);
    border: 1px solid var(--glass-border);
    border-radius: 8px;

    /* フレックスボックス設定 */
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    flex-wrap: wrap; /* 折り返しを許可 */

    /* コンテナからはみ出さないための設定 */
    width: 100%; 
    box-sizing: border-box; 
  }

  .speed-row {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
  }
  .speed-row:last-child {
    margin-bottom: 0;
  }

  /* スマホ表示調整 */
  @media (max-width: 480px) {
    .speed-input-wrapper input { width: 80px; }
  }

  .speed-label {
    font-weight: bold;
    color: var(--accent-ice);
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .speed-input-wrapper {
    display: flex;
    align-items: center;
    gap: 5px;
  }

  .speed-input-wrapper input {
    width: 100px;
    text-align: right;
    padding: 10px;
    font-weight: bold;
  }

  .speed-unit {
    font-weight: bold;
    color: var(--text-sub);
  }

  /* 備考テキスト用スタイル */
  .speed-note {
    font-size: 0.8rem;
    color: var(--text-sub);
    margin-top: 5px;
    padding-left: 5px;
    width: 100%;
  }

  footer { margin-top: auto; padding: 40px; width: 100%; text-align: center; color: var(--text-sub); font-size: 0.8rem; letter-spacing: 0.1em; }
</style>
</head>
<body>

<div class="bg-layer"></div>
<div class="bg-overlay"></div>
<div class="snow-container"></div>

<div class="container">
  <a href="index.html" class="nav-back"><i class="fas fa-chevron-left"></i> トップページに戻る</a>

  <div class="calc-card">
    <h2>研究コスト計算機</h2>

    <div class="tab-container">
      <button class="tab-btn active" onclick="switchTab('science')"><i class="fas fa-flask"></i> 科学研究</button>
      <button class="tab-btn" onclick="switchTab('academy')"><i class="fas fa-graduation-cap"></i> 戦争学園</button>
    </div>

    <div id="tab-science" class="tab-content active">
      <label>研究タイプ</label>
      <select id="science-type" onchange="updateScienceOptions()"></select>

      <label>研究項目</label>
      <select id="science-item" onchange="updateScienceEffect()"></select>

      <p id="science-effect-display" class="effect-text">効果：ここに表示されます</p>

      <label>ランク</label>
      <select id="science-rank" onchange="updateScienceLevels()"></select>

      <div style="display: flex; gap: 20px;">
        <div style="flex:1;">
          <label>現在レベル</label>
          <select id="science-current" onchange="updateScienceTargetOptions()"></select>
        </div>
        <div style="flex:1;">
          <label>目標レベル</label>
          <select id="science-target"></select>
        </div>
      </div>
    </div>

    <div id="tab-academy" class="tab-content">
      <label>兵種選択</label>
      <select id="academy-type" onchange="renderAcademyList()">
        <option value="盾兵">盾兵</option>
        <option value="槍兵">槍兵</option>
        <option value="弓兵">弓兵</option>
      </select>

      <p style="font-size:0.8rem; color:#64748b; margin-top:10px;">※計算したい項目にチェックを入れると、レベル選択が表示されます</p>

      <div id="academy-list-container"></div>
    </div>

    <div class="speed-container">
      <div class="speed-row">
        <span class="speed-label" style="white-space: nowrap;">
          <i class="fas fa-tachometer-alt"></i> 研究速度
        </span>
        <div class="speed-input-wrapper">
          <input type="number" id="research-speed" value="0" min="0" step="0.1">
          <span class="speed-unit">%</span>
        </div>
      </div>

      <div class="speed-row" style="flex-wrap: nowrap; gap: 5px;">

        <span class="speed-label" style="white-space: nowrap; flex-shrink: 0; font-size: 0.8rem;">
          ヴァレリア(出撃準備)
        </span>

        <div class="speed-input-wrapper" style="flex: 1; justify-content: flex-end; min-width: 0;">
          <select id="valeria-bonus" style="width: 100%; max-width: 150px; padding: 6px; font-size: 0.8rem;">
            <option value="1.0">未解放 (0%)</option>
            <option value="1.02">Lv.1 (2%)</option>
            <option value="1.04">Lv.2 (4%)</option>
            <option value="1.06">Lv.3 (6%)</option>
            <option value="1.08">Lv.4 (8%)</option>
            <option value="1.10">Lv.5 (10%)</option>
            <option value="1.12">Lv.6 (12%)</option>
            <option value="1.14">Lv.7 (14%)</option>
            <option value="1.16">Lv.8 (16%)</option>
            <option value="1.18">Lv.9 (18%)</option>
            <option value="1.20">Lv.10 (20%)</option>
          </select>
        </div>
      </div>
      
      <div class="speed-note">※研究速度は各種バフを有効後に強化一覧から確認</div>     
     </div>

    <button class="calc-btn" onclick="calculate()">必要コストを計算</button>

    <div class="result-container" id="result-area">
      <div class="result-row">
        <span class="result-label"><i class="fas fa-drumstick-bite icon-meat"></i> 生肉</span>
        <span class="result-value" id="res-meat">0</span>
      </div>
      <div class="result-row">
        <span class="result-label"><i class="fas fa-tree icon-wood"></i> 木材</span>
        <span class="result-value" id="res-wood">0</span>
      </div>
      <div class="result-row">
        <span class="result-label"><i class="fas fa-fire icon-coal"></i> 石炭</span>
        <span class="result-value" id="res-coal">0</span>
      </div>
      <div class="result-row">
        <span class="result-label"><i class="fas fa-cube icon-iron"></i> 鉄鉱</span>
        <span class="result-value" id="res-iron">0</span>
      </div>
      <div class="result-row">
        <span class="result-label"><i class="fas fa-layer-group icon-steel"></i> 鋼材</span>
        <span class="result-value" id="res-steel">0</span>
      </div>
      <div class="result-row" id="row-fc" style="display:none;">
        <span class="result-label"><i class="fas fa-gem icon-fc"></i> 火晶微粒子</span>
        <span class="result-value" id="res-fc">0</span>
      </div>
      <div class="result-row">
        <span class="result-label"><i class="fas fa-clock icon-time"></i> 研究時間</span>
        <span class="result-value" id="res-time">0h 0m</span>
      </div>

    <div class="result-row" style="margin-top: 15px;">
      <span class="result-label" style="color:#fbbf24; font-size: 1rem;">
        <i class="fas fa-star"></i> SVSポイント
      </span>
      <span class="result-value" id="res-svs-points">0</span>
    </div>

  </div>
</div>

<div class="youtube-wrapper">
  <div class="youtube-container">
    <iframe 
      src="https://www.youtube.com/embed/F5_IS8PMhKc?rel=0" 
      title="YouTube video player" 
      frameborder="0" 
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
      allowfullscreen>
    </iframe>
  </div>
  <p class="video-caption">▲関連動画：強くなる研究進め方！</p>
</div>

<footer>
  &copy; 2026 WOS Tools Created by MAYUKA
</footer>

<script>
  
/**
 * ====================================================================
 * データ定義エリア
 * ====================================================================
 */
const GAME_DATA = {
  // ■ 科学研究
  science: {
    types: {
      "発展": {
        items: [
          { name: "工具改良", effect: "建造速度アップ" },
          { name: "病室増設", effect: "軍医所容量アップ" },
          { name: "兵舎増設", effect: "訓練容量アップ" },
          { name: "機材改良", effect: "研究速度アップ" },
          { name: "医療改善", effect: "治療速度アップ" },
          { name: "訓練機材", effect: "訓練速度アップ" },
          { name: "戦術指揮", effect: "行軍隊列数アップ", max: 1, limitRank:"Ⅲ" }
        ],
        ranks: ["Ⅰ", "Ⅱ", "Ⅲ", "Ⅳ", "Ⅴ", "Ⅵ", "Ⅶ"],
        maxLevelRule: "fixed-3"
      },
      "経済": {
        items: [
          { name: "生肉産量", effect: "生肉生産量アップ" },
          { name: "木材産量", effect: "木材生産量アップ" },
          { name: "食物採集", effect: "生肉採集速度アップ" },
          { name: "木材採集", effect: "木材採集速度アップ" },
          { name: "石炭産量", effect: "石炭生産量アップ", limitRank:"Ⅴ" },
          { name: "石炭採集", effect: "石炭採集速度アップ", limitRank:"Ⅴ" },
          { name: "鉄鉱産量", effect: "鉄鉱生産量アップ", limitRank:"Ⅴ" },
          { name: "鉄鉱石採集", effect: "鉄鉱採集速度アップ", limitRank:"Ⅴ" }
        ],
        ranks: ["Ⅰ", "Ⅱ", "Ⅲ", "Ⅳ", "Ⅴ", "Ⅵ"],
        maxLevelRule: "fixed-3"
      },
      "戦闘": {
        items: [
          { name: "武器特訓", effect: "全兵種攻撃力アップ" },
          { name: "防衛反撃", effect: "盾兵攻撃力アップ" },
          { name: "精密射撃", effect: "弓兵攻撃力アップ" },
          { name: "高速突刺", effect: "槍兵攻撃力アップ" },
          { name: "防衛陣形", effect: "盾兵防御力アップ" },
          { name: "警戒隊形", effect: "弓兵防御力アップ" },
          { name: "堅守陣地", effect: "槍兵防御力アップ" },
          { name: "防御特訓", effect: "全兵種防御力アップ" },
          { name: "生存特訓", effect: "全兵種HPアップ" },
          { name: "突撃特訓", effect: "全兵種殺傷力アップ" },
          { name: "編成拡大", effect: "出征容量アップ" },
          { name: "力戦奮闘", effect: "盾兵殺傷力アップ" },
          { name: "定点狙撃", effect: "弓兵殺傷力アップ" },
          { name: "長矛改良", effect: "槍兵殺傷力アップ" },
          { name: "盾改良", effect: "盾兵HPアップ" },
          { name: "弓兵防具", effect: "弓兵HPアップ" },
          { name: "槍兵防具", effect: "槍兵HPアップ" }
        ],
        ranks: ["Ⅰ", "Ⅱ", "Ⅲ", "Ⅳ", "Ⅴ", "Ⅵ"],
        maxLevelRule: "combat-variable"
      }
    },
    maxLevels: {
      "fixed-3": { default: 3 },
      "combat-variable": { "Ⅰ": 3, "Ⅱ": 3, "Ⅲ": 4, "Ⅳ": 5, "Ⅴ": 6, "Ⅵ": 6 }
    }
  },

  // ■ 戦争学園
  academy: {
    "盾兵": [
      { name: "烈焔戦隊", max: 5, effect: "出撃部隊容量アップ" },
      { name: "怒炎の猛撃", max: 8, effect: "盾兵殺傷力+%" }, 
      { name: "怒炎の盾", max: 8, effect: "盾兵HP+%" },
      { name: "烈焔軍団", max: 12, effect: "集結容量アップ" }, 
      { name: "怒炎の戦斧", max: 12, effect: "盾兵攻撃力+%" }, 
      { name: "怒炎の庇護", max: 12, effect: "盾兵防御力+%" },
      { name: "烈日盾兵", max: 1, effect: "T11盾兵を解放" },
      { name: "烈日盾兵治療", max: 10, effect: "T11盾兵治療の消費資源減少" }, 
      { name: "烈日盾兵訓練", max: 10, effect: "T11盾兵訓練の消費資源減少" }, 
      { name: "烈日盾兵救急", max: 10, effect: "T11盾兵治療の消費時間短縮" }
    ],
    "槍兵": [
      { name: "烈焔戦隊", max: 5, effect: "出撃部隊容量アップ" },
      { name: "熾烈な突撃", max: 8, effect: "槍兵殺傷力+%" }, 
      { name: "熾烈な鎧", max: 8, effect: "槍兵HP+%" },
      { name: "烈焔軍団", max: 12, effect: "集結容量アップ" }, 
      { name: "熾烈な戦矛", max: 12, effect: "槍兵攻撃力+%" }, 
      { name: "熾烈な加護", max: 12, effect: "槍兵防御力+%" },
      { name: "烈日槍兵", max: 1, effect: "T11槍兵を解放" },
      { name: "烈日槍兵治療", max: 10, effect: "T11槍兵治療の消費資源減少" }, 
      { name: "烈日槍兵訓練", max: 10, effect: "T11槍兵訓練の消費資源減少" }, 
      { name: "烈日槍兵救急", max: 10, effect: "T11槍兵治療の消費時間短縮" }
    ],
    "弓兵": [
      { name: "烈焔戦隊", max: 5, effect: "出撃部隊容量アップ" },
      { name: "燃晶視界", max: 8, effect: "弓兵殺傷力+%" }, 
      { name: "燃晶鱗甲", max: 8, effect: "弓兵HP+%" },
      { name: "烈焔軍団", max: 12, effect: "集結容量アップ" }, 
      { name: "燃晶矢石", max: 12, effect: "弓兵攻撃力+%" }, 
      { name: "燃晶加護", max: 12, effect: "弓兵防御力+%" },
      { name: "烈日弓兵", max: 1, effect: "T11弓兵を解放" },
      { name: "烈日弓兵治療", max: 10, effect: "T11弓兵治療の消費資源減少" }, 
      { name: "烈日弓兵訓練", max: 10, effect: "T11弓兵訓練の消費資源減少" }, 
      { name: "烈日弓兵救急", max: 10, effect: "T11弓兵治療の消費時間短縮" }
    ]
  }
};

  // 1. 烈焔戦隊 (Max Lv5) 用データ
  const DATA_ACA_SQD = [
    { meat: 300000, wood: 300000, coal: 60000, iron: 15000, steel: 5000, time: "08:00:00", fc: 16 }, // Lv0 -> 1
    { meat: 480000, wood: 480000, coal: 96000, iron: 24000, steel: 8000, time: "12:48:00", fc: 25 }, // Lv1 -> 2
    { meat: 780000, wood: 780000, coal: 150000, iron: 39000, steel: 13000, time: "20:48:00", fc: 41 }, // Lv2 -> 3
    { meat: 1200000, wood: 1200000, coal: 250000, iron: 64000, steel: 21000, time: "1d 10:25:00", fc: 68 }, // Lv3 -> 4
    { meat: 2000000, wood: 2000000, coal: 400000, iron: 100000, steel: 33000, time: "2d 06:01:00", fc: 108 }  // Lv4 -> 5
  ];

  // 2. ステータス系スキルⅠ (Max Lv8) 用データ
  // 対象: 怒炎の猛撃, 怒炎の盾, 熾烈な突撃, 熾烈な鎧, 燃晶視界, 燃晶鱗甲
  const DATA_ACA_STAT_1 = [
    { meat: 800000, wood: 800000, coal: 160000, iron: 40000, steel: 10000, time: "20:00:00", fc: 40 }, // Lv0 -> 1
    { meat: 1100000, wood: 1100000, coal: 220000, iron: 56000, steel: 14000, time: "1d 04:00:00", fc: 56 }, // Lv1 -> 2
    { meat: 1400000, wood: 1400000, coal: 290000, iron: 74000, steel: 18000, time: "1d 13:00:00", fc: 74 }, // Lv2 -> 3
    { meat: 2000000, wood: 2000000, coal: 400000, iron: 100000, steel: 25000, time: "2d 03:00:00", fc: 102 }, // Lv3 -> 4
    { meat: 2700000, wood: 2700000, coal: 540000, iron: 130000, steel: 34000, time: "2d 20:00:00", fc: 136 }, // Lv4 -> 5
    { meat: 3600000, wood: 3600000, coal: 730000, iron: 180000, steel: 46000, time: "3d 20:00:00", fc: 184 }, // Lv5 -> 6
    { meat: 4900000, wood: 4900000, coal: 990000, iron: 240000, steel: 46000, time: "5d 04:00:00", fc: 248 }, // Lv6 -> 7
    { meat: 6600000, wood: 6600000, coal: 1300000, iron: 330000, steel: 83000, time: "6d 23:00:00", fc: 334 }  // Lv7 -> 8
  ];

  // 3. 烈焔軍団 (Max Lv12) 用データ
  const DATA_ACA_CORPS = [
    { meat: 1000000, wood: 1000000, coal: 210000, iron: 54000, steel: 23000, time: "1d 05:20:18", fc: 83 }, // Lv0 -> 1
    { meat: 1300000, wood: 1300000, coal: 260000, iron: 66000, steel: 28000, time: "1d 12:05:09", fc: 102 }, // Lv1 -> 2
    { meat: 1600000, wood: 1600000, coal: 320000, iron: 81000, steel: 34000, time: "1d 20:00:26", fc: 125 }, // Lv2 -> 3
    { meat: 1900000, wood: 1900000, coal: 390000, iron: 97000, steel: 41000, time: "2d 04:48:31", fc: 150 }, // Lv3 -> 4
    { meat: 2300000, wood: 2300000, coal: 470000, iron: 110000, steel: 51000, time: "2d 16:32:37", fc: 184 }, // Lv4 -> 5
    { meat: 2900000, wood: 2900000, coal: 580000, iron: 140000, steel: 62000, time: "3d 07:12:45", fc: 225 }, // Lv5 -> 6
    { meat: 3500000, wood: 3500000, coal: 710000, iron: 170000, steel: 76000, time: "4d 00:48:56", fc: 276 }, // Lv6 -> 7
    { meat: 4300000, wood: 4300000, coal: 860000, iron: 210000, steel: 93000, time: "4d 21:21:08", fc: 334 }, // Lv7 -> 8
    { meat: 5400000, wood: 5400000, coal: 1000000, iron: 270000, steel: 110000, time: "6d 02:41:25", fc: 418 }, // Lv8 -> 9
    { meat: 6500000, wood: 6500000, coal: 1300000, iron: 320000, steel: 130000, time: "7d 08:01:42", fc: 502 }, // Lv9 -> 10
    { meat: 7800000, wood: 7800000, coal: 1500000, iron: 390000, steel: 160000, time: "8d 19:14:02", fc: 602 }, // Lv10 -> 11
    { meat: 9600000, wood: 9600000, coal: 1900000, iron: 480000, steel: 200000, time: "10d 21:06:31", fc: 744 }  // Lv11 -> 12
  ];

  // 4. ステータス系スキルⅡ (Max Lv12) 用データ
  // 対象: 怒炎の戦斧, 怒炎の庇護, 熾烈な戦矛, 熾烈な加護, 燃晶矢石, 燃晶加護
  const DATA_ACA_STAT_2 = [
    { meat: 700000, wood: 700000, coal: 140000, iron: 35000, steel: 15000, time: "18:55:40", fc: 54 }, // Lv0 -> 1
    { meat: 860000, wood: 860000, coal: 170000, iron: 43000, steel: 18000, time: "23:16:52", fc: 66 }, // Lv1 -> 2
    { meat: 1000000, wood: 1000000, coal: 210000, iron: 52000, steel: 22000, time: "1d 04:23:30", fc: 81 }, // Lv2 -> 3
    { meat: 1200000, wood: 1200000, coal: 250000, iron: 63000, steel: 27000, time: "1d 10:04:12", fc: 97 }, // Lv3 -> 4
    { meat: 1500000, wood: 1500000, coal: 300000, iron: 77000, steel: 33000, time: "1d 17:38:28", fc: 118 }, // Lv4 -> 5
    { meat: 1800000, wood: 1800000, coal: 370000, iron: 94000, steel: 40000, time: "2d 03:06:18", fc: 145 }, // Lv5 -> 6
    { meat: 2300000, wood: 2300000, coal: 460000, iron: 110000, steel: 49000, time: "2d 14:27:42", fc: 178 }, // Lv6 -> 7
    { meat: 2800000, wood: 2800000, coal: 560000, iron: 140000, steel: 60000, time: "3d 03:42:40", fc: 216 }, // Lv7 -> 8
    { meat: 3500000, wood: 3500000, coal: 700000, iron: 170000, steel: 75000, time: "3d 22:38:20", fc: 270 }, // Lv8 -> 9
    { meat: 4200000, wood: 4200000, coal: 840000, iron: 210000, steel: 90000, time: "4d 17:34:00", fc: 324 }, // Lv9 -> 10
    { meat: 5000000, wood: 5000000, coal: 1000000, iron: 250000, steel: 100000, time: "5d 16:16:48", fc: 388 }, // Lv10 -> 11
    { meat: 6200000, wood: 6200000, coal: 1200000, iron: 310000, steel: 130000, time: "7d 00:27:26", fc: 480 }  // Lv11 -> 12
  ];

  // 5. T11兵士解放 (Max Lv1) 用データ
  const DATA_ACA_T11 = [
    { meat: 85000000, wood: 85000000, coal: 17000000, iron: 4200000, steel: 1000000, time: "91d 08:15:00", fc: 2236 }  // Lv0 -> 1
  ];

  // 6. T11関連バフ (Max Lv10) 用データ
  // 対象: 烈日〇兵治療•訓練
  const DATA_ACA_T11_HT = [
    { meat: 2500000, wood: 2500000, coal: 500000, iron: 120000, steel: 30000, time: "2d 02:00:00", fc: 102 }, // Lv0 -> 1
    { meat: 3300000, wood: 3300000, coal: 670000, iron: 160000, steel: 40000, time: "2d 19:30:00", fc: 137 }, // Lv1 -> 2
    { meat: 4600000, wood: 4600000, coal: 920000, iron: 230000, steel: 55000, time: "3d 20:30:00", fc: 188 }, // Lv2 -> 3
    { meat: 6200000, wood: 6200000, coal: 1200000, iron: 310000, steel: 75000, time: "5d 05:00:00", fc: 255 }, // Lv3 -> 4
    { meat: 8300000, wood: 8300000, coal: 1600000, iron: 410000, steel: 100000, time: "6d 23:30:00", fc: 341 }, // Lv4 -> 5
    { meat: 11000000, wood: 11000000, coal: 2200000, iron: 560000, steel: 130000, time: "9d 09:00:00", fc: 459 }, // Lv5 -> 6
    { meat: 15000000, wood: 15000000, coal: 3000000, iron: 750000, steel: 180000, time: "12d 12:00:00", fc: 612 }, // Lv6 -> 7
    { meat: 20000000, wood: 20000000, coal: 4100000, iron: 1000000, steel: 240000, time: "17d 02:00:00", fc: 836 }, // Lv7 -> 8
    { meat: 27000000, wood: 27000000, coal: 5500000, iron: 1300000, steel: 330000, time: "22d 22:00:00", fc: 1122 }, // Lv8 -> 9
    { meat: 37000000, wood: 37000000, coal: 7500000, iron: 1800000, steel: 450000, time: "31d 06:00:00", fc: 1530 }  // Lv9 -> 10
  ];

  // 7. T11関連バフ (Max Lv10) 用データ
  // 対象: 烈日〇兵救急
  const DATA_ACA_T11_AID = [
    { meat: 1200000, wood: 1200000, coal: 250000, iron: 62000, steel: 15000, time: "1d 01:00:00", fc: 51 }, // Lv0 -> 1
    { meat: 1600000, wood: 1600000, coal: 330000, iron: 84000, steel: 20000, time: "1d 09:45:00", fc: 68 }, // Lv1 -> 2
    { meat: 2300000, wood: 2300000, coal: 460000, iron: 110000, steel: 27000, time: "1d 22:15:00", fc: 94 }, // Lv2 -> 3
    { meat: 3100000, wood: 3100000, coal: 620000, iron: 150000, steel: 37000, time: "2d 14:30:00", fc: 127 }, // Lv3 -> 4
    { meat: 4100000, wood: 4100000, coal: 830000, iron: 200000, steel: 50000, time: "3d 11:45:00", fc: 170 }, // Lv4 -> 5
    { meat: 5600000, wood: 5600000, coal: 1100000, iron: 280000, steel: 67000, time: "4d 16:30:00", fc: 229 }, // Lv5 -> 6
    { meat: 7500000, wood: 7500000, coal: 1500000, iron: 370000, steel: 90000, time: "6d 06:00:00", fc: 306 }, // Lv6 -> 7
    { meat: 10000000, wood: 10000000, coal: 2000000, iron: 510000, steel: 120000, time: "8d 13:00:00", fc: 418 }, // Lv7 -> 8
    { meat: 13000000, wood: 13000000, coal: 2700000, iron: 680000, steel: 160000, time: "11d 11:00:00", fc: 561 }, // Lv8 -> 9
    { meat: 18000000, wood: 18000000, coal: 3700000, iron: 930000, steel: 220000, time: "15d 15:00:00", fc: 765 }  // Lv9 -> 10
  ];

  // --- COST_DB 本体定義 ---
  const COST_DB = {

    // =================================================================
    // ▼ 科学研究：発展 (全ランク Max Lv3)
    // =================================================================

    // --- ランク Ⅰ ---
    "工具改良_Ⅰ": [{ meat:2700, wood:2700, coal:540, iron:130, steel:160, time:"00:00:02", fc:0 },
               { meat:3700, wood:3700, coal:750, iron:180, steel:220, time:"00:00:40", fc:0 },
               { meat:8100, wood:8100, coal:1600, iron:400, steel:480, time:"00:01:48", fc:0 }],
    "病室増設_Ⅰ": [{ meat:670, wood:670, coal:130, iron:30, steel:40, time:"00:00:13", fc:0 }, { meat:940, wood:940, coal:180, iron:40, steel:50, time:"00:00:20", fc:0 }, { meat:2000, wood:2000, coal:400, iron:100, steel:120, time:"00:00:54", fc:0 }],
    "兵舎増設_Ⅰ": [{ meat:2000, wood:2000, coal:400, iron:100, steel:120, time:"00:00:27", fc:0 }, { meat:2800, wood:2800, coal:560, iron:140, steel:160, time:"00:00:40", fc:0 }, { meat:6000, wood:6000, coal:1200, iron:300, steel:360, time:"00:01:48", fc:0 }],
    "機材改良_Ⅰ": [{ meat:2200, wood:2200, coal:450, iron:110, steel:140, time:"00:00:35", fc:0 }, { meat:3200, wood:3200, coal:640, iron:160, steel:190, time:"00:00:52", fc:0 }, { meat:6800, wood:6800, coal:1300, iron:340, steel:420, time:"00:02:20", fc:0 }],
    "医療改善_Ⅰ": [{ meat:6700, wood:6700, coal:1300, iron:330, steel:400, time:"00:01:34", fc:0 }, { meat:9400, wood:9400, coal:1800, iron:470, steel:560, time:"00:02:21", fc:0 }, { meat:20000, wood:20000, coal:4000, iron:810, steel:860, time:"00:06:18", fc:0 }],
    "訓練機材_Ⅰ": [{ meat:5400, wood:5400, coal:1000, iron:270, steel:330, time:"00:01:21", fc:0 }, { meat:7500, wood:7500, coal:1500, iron:370, steel:440, time:"00:02:01", fc:0 }, { meat:16000, wood:16000, coal:3200, iron:810, steel:960, time:"00:05:24", fc:0 }],
    "戦術指揮_Ⅰ": [{ meat:6700, wood:6700, coal:1300, iron:330, steel:400, time:"00:04:30", fc:0 }],

    // --- ランク Ⅱ ---
    "工具改良_Ⅱ": [{ meat:27000, wood:27000, coal:5400, iron:1300, steel:320, time:"00:05:00", fc:0 }, { meat:37000, wood:37000, coal:7500, iron:1800, steel:440, time:"00:07:30", fc:0 }, { meat:81000, wood:81000, coal:16000, iron:4000, steel:960, time:"00:20:00", fc:0 }],
    "病室増設_Ⅱ": [{ meat:6700, wood:6700, coal:1300, iron:330, steel:80, time:"00:02:30", fc:0 }, { meat:9400, wood:9400, coal:1800, iron:470, steel:110, time:"00:03:45", fc:0 }, { meat:20000, wood:20000, coal:4000, iron:1000, steel:240, time:"00:10:00", fc:0 }],
    "兵舎増設_Ⅱ": [{ meat:20000, wood:20000, coal:4000, iron:1000, steel:240, time:"00:05:00", fc:0 }, { meat:28000, wood:28000, coal:5600, iron:1400, steel:330, time:"00:07:30", fc:0 }, { meat:60000, wood:60000, coal:12000, iron:3000, steel:720, time:"00:20:00", fc:0 }],
    "機材改良_Ⅱ": [{ meat:22000, wood:22000, coal:45000, iron:1100, steel:280, time:"00:06:30", fc:0 }, { meat:32000, wood:32000, coal:6400, iron:1600, steel:390, time:"00:09:45", fc:0 }, { meat:68000, wood:68000, coal:13000, iron:3400, steel:840, time:"00:26:00", fc:0 }],
    "医療改善_Ⅱ": [{ meat:67000, wood:67000, coal:13000, iron:3300, steel:800, time:"00:17:30", fc:0 }, { meat:94000, wood:94000, coal:18000, iron:4700, steel:1100, time:"00:26:15", fc:0 }, { meat:200000, wood:200000, coal:40000, iron:10000, steel:2400, time:"01:10:00", fc:0 }],
    "訓練機材_Ⅱ": [{ meat:67000, wood:67000, coal:10000, iron:2700, steel:640, time:"00:15:00", fc:0 }, { meat:75000, wood:75000, coal:15000, iron:3700, steel:890, time:"00:22:30", fc:0 }, { meat:160000, wood:160000, coal:32000, iron:8100, steel:1900, time:"01:00:00", fc:0 }],
    "戦術指揮_Ⅱ": [{ meat:67000, wood:67000, coal:13000, iron:3300, steel:800, time:"00:50:00", fc:0 }],

    // --- ランク Ⅲ ---
    "工具改良_Ⅲ": [{ meat:86000, wood:86000, coal:17000, iron:4300, steel:960, time:"00:20:00", fc:0 }, { meat:120000, wood:120000, coal:24000, iron:6000, steel:1300, time:"00:30:00", fc:0 }, { meat:250000, wood:250000, coal:51000, iron:12000, steel:2800, time:"01:20:00", fc:0 }],
    "病室増設_Ⅲ": [{ meat:21000, wood:21000, coal:4300, iron:1000, steel:240, time:"00:10:00", fc:0 }, { meat:30000, wood:30000, coal:6000, iron:1500, steel:330, time:"00:15:00", fc:0 }, { meat:64000, wood:64000, coal:12000, iron:3200, steel:720, time:"00:40:00", fc:0 }],
    "兵舎増設_Ⅲ": [{ meat:64000, wood:64000, coal:12000, iron:3200, steel:720, time:"00:20:00", fc:0 }, { meat:90000, wood:90000, coal:18000, iron:4500, steel:1000, time:"00:30:00", fc:0 }, { meat:190000, wood:190000, coal:38000, iron:9700, steel:2100, time:"01:20:00", fc:0 }],
    "機材改良_Ⅲ": [{ meat:73000, wood:73000, coal:14000, iron:3600, steel:840, time:"00:26:00", fc:0 }, { meat:100000, wood:100000, coal:20000, iron:5100, steel:1100, time:"00:39:00", fc:0 }, { meat:220000, wood:220000, coal:44000, iron:11000, steel:2500, time:"01:44:00", fc:0 }],
    "医療改善_Ⅲ": [{ meat:210000, wood:210000, coal:43000, iron:10000, steel:2400, time:"01:10:00", fc:0 }, { meat:300000, wood:300000, coal:60000, iron:15000, steel:3300, time:"01:45:00", fc:0 }, { meat:640000, wood:640000, coal:120000, iron:32000, steel:7200, time:"04:40:00", fc:0 }],
    "訓練機材_Ⅲ": [{ meat:170000, wood:170000, coal:34000, iron:8600, steel:1900, time:"01:00:00", fc:0 }, { meat:240000, wood:240000, coal:48000, iron:12000, steel:2600, time:"01:30:00", fc:0 }, { meat:510000, wood:510000, coal:100000, iron:25000, steel:5700, time:"04:00:00", fc:0 }],
    "戦術指揮_Ⅲ": [{ meat:210000, wood:210000, coal:43000, iron:10000, steel:2400, time:"03:20:00", fc:0 }],

    // --- ランク Ⅳ ---
    "工具改良_Ⅳ": [{ meat:240000, wood:240000, coal:49000, iron:12000, steel:3200, time:"02:13:20", fc:0 }, { meat:340000, wood:340000, coal:69000, iron:17000, steel:4400, time:"03:20:00", fc:0 }, { meat:740000, wood:740000, coal:140000, iron:37000, steel:9600, time:"08:53:20", fc:0 }],
    "病室増設_Ⅳ": [{ meat:62000, wood:62000, coal:12000, iron:3100, steel:800, time:"01:06:40", fc:0 }, { meat:86000, wood:86000, coal:17000, iron:4300, steel:1100, time:"01:40:00", fc:0 }, { meat:180000, wood:180000, coal:37000, iron:9300, steel:2400, time:"04:26:40", fc:0 }],
    "兵舎増設_Ⅳ": [{ meat:180000, wood:180000, coal:37000, iron:9300, steel:2400, time:"02:13:20", fc:0 }, { meat:260000, wood:260000, coal:52000, iron:13000, steel:3300, time:"03:20:00", fc:0 }, { meat:550000, wood:550000, coal:110000, iron:27000, steel:7200, time:"08:53:20", fc:0 }],
    "機材改良_Ⅳ": [{ meat:210000, wood:210000, coal:42000, iron:10000, steel:2800, time:"02:53:20", fc:0 }, { meat:290000, wood:290000, coal:59000, iron:14000, steel:3900, time:"04:20:00", fc:0 }, { meat:630000, wood:630000, coal:120000, iron:31000, steel:8400, time:"11:33:20", fc:0 }],
    "医療改善_Ⅳ": [{ meat:620000, wood:620000, coal:120000, iron:31000, steel:8000, time:"07:46:40", fc:0 }, { meat:860000, wood:860000, coal:170000, iron:43000, steel:11000, time:"11:40:00", fc:0 }, { meat:1800000, wood:1800000, coal:170000, iron:93000, steel:24000, time:"1d 07:06:40", fc:0 }],
    "訓練機材_Ⅳ": [{ meat:490000, wood:490000, coal:99000, iron:24000, steel:6400, time:"06:40:00", fc:0 }, { meat:690000, wood:690000, coal:130000, iron:34000, steel:8900, time:"10:00:00", fc:0 }, { meat:1400000, wood:1400000, coal:290000, iron:74000, steel:19000, time:"1d 02:40:00", fc:0 }],

    // --- ランク Ⅴ ---
    "工具改良_Ⅴ": [{ meat:440000, wood:440000, coal:88000, iron:22000, steel:12000, time:"13:53:20", fc:0 }, { meat:610000, wood:610000, coal:120000, iron:30000, steel:17000, time:"20:50:00", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:66000, steel:38000, time:"2d 07:33:20", fc:0 }],
    "病室増設_Ⅴ": [{ meat:110000, wood:110000, coal:22000, iron:5500, steel:3200, time:"06:56:40", fc:0 }, { meat:150000, wood:150000, coal:30000, iron:7700, steel:4400, time:"10:25:00", fc:0 }, { meat:330000, wood:330000, coal:66000, iron:16000, steel:9600, time:"1d 03:46:40", fc:0 }],
    "兵舎増設_Ⅴ": [{ meat:330000, wood:330000, coal:66000, iron:16000, steel:9600, time:"13:53:20", fc:0 }, { meat:460000, wood:460000, coal:92000, iron:23000, steel:13000, time:"20:50:00", fc:0 }, { meat:990000, wood:990000, coal:190000, iron:49000, steel:28000, time:"2d 07:33:20", fc:0 }],
    "機材改良_Ⅴ": [{ meat:370000, wood:370000, coal:75000, iron:18000, steel:11000, time:"18:03:20", fc:0 }, { meat:520000, wood:520000, coal:100000, iron:26000, steel:15000, time:"1d 03:05:00", fc:0 }, { meat:1100000, wood:1100000, coal:220000, iron:56000, steel:33000, time:"3d 00:13:20", fc:0 }],
    "医療改善_Ⅴ": [{ meat:1100000, wood:1100000, coal:220000, iron:55000, steel:32000, time:"2d 00:36:40", fc:0 }, { meat:1500000, wood:1500000, coal:300000, iron:77000, steel:44000, time:"3d 00:55:00", fc:0 }, { meat:3300000, wood:3300000, coal:660000, iron:160000, steel:96000, time:"8d 02:26:40", fc:0 }],
    "訓練機材_Ⅴ": [{ meat:880000, wood:880000, coal:170000, iron:44000, steel:25000, time:"1d 17:40:00", fc:0 }, { meat:1200000, wood:1200000, coal:240000, iron:61000, steel:35000, time:"2d 14:30:00", fc:0 }, { meat:2600000, wood:2600000, coal:530000, iron:130000, steel:76000, time:"6d 22:40:00", fc:0 }],

    // --- ランク Ⅵ ---
    "工具改良_Ⅵ": [{ meat:1500000, wood:1500000, coal:310000, iron:77000, steel:25000, time:"2d 18:40:00", fc:0 }, { meat:2100000, wood:2100000, coal:430000, iron:100000, steel:35000, time:"4d 04:00:00", fc:0 }, { meat:4600000, wood:4600000, coal:930000, iron:230000, steel:76000, time:"11d 02:40:00", fc:0 }],
    "病室増設_Ⅵ": [{ meat:380000, wood:380000, coal:77000, iron:19000, steel:6400, time:"1d 09:20:00", fc:0 }, { meat:540000, wood:540000, coal:100000, iron:27000, steel:8900, time:"2d 02:00:00", fc:0 }, { meat:1100000, wood:1100000, coal:230000, iron:58000, steel:19000, time:"5d 13:20:00", fc:0 }],
    "兵舎増設_Ⅵ": [{ meat:1100000, wood:1100000, coal:230000, iron:58000, steel:19000, time:"2d 18:40:00", fc:0 }, { meat:1600000, wood:1600000, coal:320000, iron:81000, steel:26000, time:"4d 04:00:00", fc:0 }, { meat:3400000, wood:3400000, coal:690000, iron:170000, steel:57000, time:"11d 02:40:00", fc:0 }],
    "機材改良_Ⅵ": [{ meat:1300000, wood:1300000, coal:260000, iron:66000, steel:22000, time:"3d 14:00:00", fc:0 }, { meat:1800000, wood:1800000, coal:370000, iron:92000, steel:31000, time:"5d 10:00:00", fc:0 }, { meat:3900000, wood:3900000, coal:790000, iron:190000, steel:67000, time:"14d 10:40:00", fc:0 }],
    "医療改善_Ⅵ": [{ meat:3800000, wood:3800000, coal:770000, iron:190000, steel:64000, time:"9d 17:20:00", fc:0 }, { meat:5400000, wood:5400000, coal:1000000, iron:270000, steel:89000, time:"14d 14:00:00", fc:0 }, { meat:11000000, wood:11000000, coal:2300000, iron:580000, steel:190000, time:"38d 21:20:00", fc:0 }],
    "訓練機材_Ⅵ": [{ meat:3100000, wood:3100000, coal:620000, iron:150000, steel:51000, time:"8d 08:00:00", fc:0 }, { meat:4300000, wood:4300000, coal:870000, iron:210000, steel:71000, time:"12d 12:00:00", fc:0 }, { meat:9300000, wood:9300000, coal:1800000, iron:460000, steel:150000, time:"33d 08:00:00", fc:0 }],

    // --- ランク Ⅶ ---
    "工具改良_Ⅶ": [{ meat:3100000, wood:3100000, coal:620000, iron:150000, steel:48000, time:"9d 17:20:00", fc:0 }, { meat:4300000, wood:4300000, coal:870000, iron:210000, steel:67000, time:"14d 14:00:00", fc:0 }, { meat:9300000, wood:9300000, coal:1800000, iron:460000, steel:140000, time:"38d 21:20:00", fc:0 }],
    "病室増設_Ⅶ": [{ meat:770000, wood:770000, coal:150000, iron:38000, steel:12000, time:"4d 20:40:00", fc:0 }, { meat:1000000, wood:1000000, coal:210000, iron:54000, steel:16000, time:"7d 07:00:00", fc:0 }, { meat:2300000, wood:2300000, coal:460000, iron:110000, steel:36000, time:"19d 10:40:00", fc:0 }],
    "兵舎増設_Ⅶ": [{ meat:2300000, wood:2300000, coal:460000, iron:110000, steel:36000, time:"9d 17:20:00", fc:0 }, { meat:3200000, wood:3200000, coal:650000, iron:160000, steel:50000, time:"14d 14:00:00", fc:0 }, { meat:6900000, wood:6900000, coal:1300000, iron:340000, steel:100000, time:"38d 21:20:00", fc:0 }],
    "機材改良_Ⅶ": [{ meat:2600000, wood:2600000, coal:520000, iron:130000, steel:42000, time:"12d 15:20:00", fc:0 }, { meat:3700000, wood:3700000, coal:740000, iron:180000, steel:58000, time:"18d 23:00:00", fc:0 }, { meat:7900000, wood:7900000, coal:1500000, iron:390000, steel:120000, time:"50d 13:20:00", fc:0 }],
    "医療改善_Ⅶ": [{ meat:7700000, wood:7700000, coal:1500000, iron:380000, steel:120000, time:"34d 00:40:00", fc:0 }, { meat:10000000, wood:10000000, coal:2100000, iron:540000, steel:160000, time:"51d 01:00:00", fc:0 }, { meat:23000000, wood:23000000, coal:4600000, iron:1100000, steel:360000, time:"136d 02:40:00", fc:0 }],
    "訓練機材_Ⅶ": [{ meat:6200000, wood:6200000, coal:1200000, iron:310000, steel:96000, time:"29d 04:00:00", fc:0 }, { meat:8700000, wood:8700000, coal:1700000, iron:430000, steel:130000, time:"43d 18:00:00", fc:0 }, { meat:18000000, wood:18000000, coal:3700000, iron:930000, steel:280000, time:"116d 16:00:00", fc:0 }],

    // =================================================================
    // ▼ 科学研究：経済 (全ランク Max Lv3)
    // =================================================================

    // --- ランク Ⅰ ---
    "生肉産量_Ⅰ": [{ meat:5400, wood:5400, coal:1000, iron:270, steel:320, time:"00:00:27", fc:0 }, { meat:7500, wood:7500, coal:1500, iron:370, steel:440, time:"00:00:40", fc:0 }, { meat:16000, wood:16000, coal:3200, iron:810, steel:960, time:"00:01:48", fc:0 }],
    "木材産量_Ⅰ": [{ meat:5400, wood:5400, coal:1000, iron:270, steel:320, time:"00:00:27", fc:0 }, { meat:7500, wood:7500, coal:1500, iron:370, steel:440, time:"00:00:40", fc:0 }, { meat:16000, wood:16000, coal:3200, iron:810, steel:960, time:"00:01:48", fc:0 }],
    "食物採集_Ⅰ": [{ meat:4000, wood:4000, coal:810, iron:200, steel:240, time:"00:00:27", fc:0 }, { meat:5600, wood:5600, coal:1100, iron:280, steel:330, time:"00:00:40", fc:0 }, { meat:12000, wood:12000, coal:2400, iron:600, steel:720, time:"00:01:48", fc:0 }],
    "木材採集_Ⅰ": [{ meat:4000, wood:4000, coal:810, iron:200, steel:240, time:"00:00:27", fc:0 }, { meat:5600, wood:5600, coal:1100, iron:280, steel:320, time:"00:00:40", fc:0 }, { meat:12000, wood:12000, coal:2400, iron:600, steel:720, time:"00:01:48", fc:0 }],
    "石炭産量_Ⅰ": [{ meat:13000, wood:13000, coal:2700, iron:670, steel:800, time:"00:02:15", fc:0 }, { meat:18000, wood:18000, coal:3700, iron:940, steel:1100, time:"00:03:22", fc:0 }, { meat:40000, wood:40000, coal:8100, iron:2000, steel:2400, time:"00:09:00", fc:0 }],
    "石炭採集_Ⅰ": [{ meat:10000, wood:10000, coal:2000, iron:500, steel:600, time:"00:01:34", fc:0 }, { meat:14000, wood:14000, coal:2800, iron:700, steel:840, time:"00:02:21", fc:0 }, { meat:30000, wood:30000, coal:6000, iron:1500, steel:1800, time:"00:06:18", fc:0 }],
    "鉄鉱産量_Ⅰ": [{ meat:13000, wood:13000, coal:2700, iron:670, steel:800, time:"00:02:15", fc:0 }, { meat:18000, wood:18000, coal:3700, iron:940, steel:1100, time:"00:03:22", fc:0 }, { meat:40000, wood:40000, coal:8100, iron:2000, steel:2400, time:"00:09:00", fc:0 }],
    "鉄鉱石採集_Ⅰ": [{ meat:10000, wood:10000, coal:2000, iron:500, steel:600, time:"00:01:34", fc:0 }, { meat:14000, wood:14000, coal:2800, iron:700, steel:840, time:"00:02:21", fc:0 }, { meat:30000, wood:30000, coal:6000, iron:1500, steel:1800, time:"00:06:18", fc:0 }],

    // --- ランク Ⅱ ---
    "生肉産量_Ⅱ": [{ meat:54000, wood:54000, coal:10000, iron:2700, steel:640, time:"00:05:00", fc:0 }, { meat:75000, wood:75000, coal:15000, iron:3700, steel:890, time:"00:07:30", fc:0 }, { meat:160000, wood:160000, coal:32000, iron:8100, steel:1900, time:"00:20:00", fc:0 }],
    "木材産量_Ⅱ": [{ meat:54000, wood:54000, coal:10000, iron:2700, steel:640, time:"00:05:00", fc:0 }, { meat:75000, wood:75000, coal:15000, iron:3700, steel:890, time:"00:07:30", fc:0 }, { meat:160000, wood:160000, coal:32000, iron:8100, steel:1900, time:"00:20:00", fc:0 }],
    "食物採集_Ⅱ": [{ meat:40000, wood:40000, coal:8100, iron:2000, steel:480, time:"00:05:00", fc:0 }, { meat:56000, wood:56000, coal:11000, iron:2800, steel:670, time:"00:07:30", fc:0 }, { meat:120000, wood:120000, coal:24000, iron:6000, steel:1400, time:"00:20:00", fc:0 }],
    "木材採集_Ⅱ": [{ meat:40000, wood:40000, coal:8100, iron:2000, steel:480, time:"00:05:00", fc:0 }, { meat:56000, wood:56000, coal:11000, iron:2800, steel:670, time:"00:07:30", fc:0 }, { meat:120000, wood:120000, coal:24000, iron:6000, steel:1400, time:"00:20:00", fc:0 }],
    "石炭産量_Ⅱ": [{ meat:130000, wood:130000, coal:27000, iron:6700, steel:1600, time:"00:25:00", fc:0 }, { meat:180000, wood:180000, coal:37000, iron:9400, steel:2200, time:"00:37:30", fc:0 }, { meat:400000, wood:400000, coal:81000, iron:20000, steel:4800, time:"01:40:00", fc:0 }],
    "石炭採集_Ⅱ": [{ meat:100000, wood:100000, coal:20000, iron:5000, steel:1200, time:"00:17:30", fc:0 }, { meat:140000, wood:140000, coal:28000, iron:7000, steel:1600, time:"00:26:15", fc:0 }, { meat:300000, wood:300000, coal:60000, iron:15000, steel:3600, time:"01:10:00", fc:0 }],
    "鉄鉱産量_Ⅱ": [{ meat:130000, wood:130000, coal:27000, iron:6700, steel:1600, time:"00:25:00", fc:0 }, { meat:180000, wood:180000, coal:37000, iron:9400, steel:2200, time:"00:37:30", fc:0 }, { meat:400000, wood:400000, coal:81000, iron:20000, steel:4800, time:"01:40:00", fc:0 }],
    "鉄鉱石採集_Ⅱ": [{ meat:100000, wood:100000, coal:20000, iron:5000, steel:1200, time:"00:17:30", fc:0 }, { meat:140000, wood:140000, coal:28000, iron:7000, steel:1600, time:"00:26:15", fc:0 }, { meat:300000, wood:300000, coal:60000, iron:15000, steel:3600, time:"01:10:00", fc:0 }],

    // --- ランク Ⅲ ---
    "生肉産量_Ⅲ": [{ meat:170000, wood:170000, coal:34000, iron:8600, steel:1900, time:"00:20:00", fc:0 }, { meat:240000, wood:240000, coal:48000, iron:12000, steel:2600, time:"00:30:00", fc:0 }, { meat:510000, wood:510000, coal:100000, iron:25000, steel:5700, time:"01:20:00", fc:0 }],
    "木材産量_Ⅲ": [{ meat:170000, wood:170000, coal:34000, iron:8600, steel:1900, time:"00:20:00", fc:0 }, { meat:240000, wood:240000, coal:48000, iron:12000, steel:2600, time:"00:30:00", fc:0 }, { meat:510000, wood:510000, coal:100000, iron:25000, steel:5700, time:"01:20:00", fc:0 }],
    "食物採集_Ⅲ": [{ meat:120000, wood:120000, coal:25000, iron:6400, steel:1400, time:"00:20:00", fc:0 }, { meat:180000, wood:180000, coal:36000, iron:9000, steel:2000, time:"00:30:00", fc:0 }, { meat:380000, wood:380000, coal:77000, iron:19000, steel:4300, time:"01:20:00", fc:0 }],
    "木材採集_Ⅲ": [{ meat:120000, wood:120000, coal:25000, iron:6400, steel:1400, time:"00:20:00", fc:0 }, { meat:180000, wood:180000, coal:36000, iron:9000, steel:2000, time:"00:30:00", fc:0 }, { meat:380000, wood:380000, coal:77000, iron:19000, steel:4300, time:"01:20:00", fc:0 }],
    "石炭産量_Ⅲ": [{ meat:430000, wood:430000, coal:86000, iron:21000, steel:4800, time:"01:40:00", fc:0 }, { meat:600000, wood:600000, coal:120000, iron:30000, steel:6700, time:"02:30:00", fc:0 }, { meat:1200000, wood:1200000, coal:250000, iron:64000, steel:14000, time:"06:40:00", fc:0 }],
    "石炭採集_Ⅲ": [{ meat:320000, wood:320000, coal:64000, iron:16000, steel:3600, time:"01:10:00", fc:0 }, { meat:450000, wood:450000, coal:90000, iron:22000, steel:5000, time:"01:45:00", fc:0 }, { meat:970000, wood:970000, coal:190000, iron:48000, steel:10000, time:"04:40:00", fc:0 }],
    "鉄鉱産量_Ⅲ": [{ meat:430000, wood:430000, coal:86000, iron:21000, steel:4800, time:"01:40:00", fc:0 }, { meat:600000, wood:600000, coal:120000, iron:30000, steel:6700, time:"02:30:00", fc:0 }, { meat:1200000, wood:1200000, coal:250000, iron:64000, steel:14000, time:"06:40:00", fc:0 }],
    "鉄鉱石採集_Ⅲ": [{ meat:320000, wood:320000, coal:64000, iron:16000, steel:3600, time:"01:10:00", fc:0 }, { meat:450000, wood:450000, coal:90000, iron:22000, steel:5000, time:"01:45:00", fc:0 }, { meat:970000, wood:970000, coal:190000, iron:48000, steel:10000, time:"04:40:00", fc:0 }],

    // --- ランク Ⅳ ---
    "生肉産量_Ⅳ": [{ meat:490000, wood:490000, coal:99000, iron:24000, steel:6400, time:"02:13:20", fc:0 }, { meat:690000, wood:690000, coal:130000, iron:34000, steel:8900, time:"03:20:00", fc:0 }, { meat:1400000, wood:1400000, coal:290000, iron:74000, steel:19000, time:"08:53:20", fc:0 }],
    "木材産量_Ⅳ": [{ meat:490000, wood:490000, coal:99000, iron:24000, steel:6400, time:"02:13:20", fc:0 }, { meat:690000, wood:690000, coal:130000, iron:34000, steel:8900, time:"03:20:00", fc:0 }, { meat:1400000, wood:1400000, coal:290000, iron:74000, steel:19000, time:"08:53:20", fc:0 }],
    "食物採集_Ⅳ": [{ meat:370000, wood:370000, coal:74000, iron:18000, steel:4800, time:"02:13:20", fc:0 }, { meat:520000, wood:520000, coal:100000, iron:26000, steel:6700, time:"03:20:00", fc:0 }, { meat:1100000, wood:1100000, coal:220000, iron:55000, steel:14000, time:"08:53:20", fc:0 }],
    "木材採集_Ⅳ": [{ meat:370000, wood:370000, coal:74000, iron:18000, steel:4800, time:"02:13:20", fc:0 }, { meat:520000, wood:520000, coal:100000, iron:26000, steel:6700, time:"03:20:00", fc:0 }, { meat:1100000, wood:1100000, coal:220000, iron:55000, steel:14000, time:"08:53:20", fc:0 }],
    "石炭産量_Ⅳ": [{ meat:1200000, wood:1200000, coal:240000, iron:62000, steel:16000, time:"11:06:40", fc:0 }, { meat:1700000, wood:1700000, coal:340000, iron:86000, steel:22000, time:"16:40:00", fc:0 }, { meat:3700000, wood:3700000, coal:740000, iron:180000, steel:48000, time:"1d 20:26:40", fc:0 }],
    "石炭採集_Ⅳ": [{ meat:930000, wood:930000, coal:180000, iron:46000, steel:12000, time:"07:46:40", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:65000, steel:16000, time:"11:40:00", fc:0 }, { meat:2700000, wood:2700000, coal:550000, iron:130000, steel:36000, time:"1d 07:06:40", fc:0 }],
    "鉄鉱産量_Ⅳ": [{ meat:1200000, wood:1200000, coal:240000, iron:62000, steel:16000, time:"11:06:40", fc:0 }, { meat:1700000, wood:1700000, coal:340000, iron:86000, steel:22000, time:"16:40:00", fc:0 }, { meat:3700000, wood:3700000, coal:740000, iron:180000, steel:48000, time:"1d 20:26:40", fc:0 }],
    "鉄鉱石採集_Ⅳ": [{ meat:930000, wood:930000, coal:180000, iron:46000, steel:12000, time:"07:46:40", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:65000, steel:16000, time:"11:40:00", fc:0 }, { meat:2700000, wood:2700000, coal:550000, iron:130000, steel:36000, time:"1d 07:06:40", fc:0 }],

    // --- ランク Ⅴ ---
    "生肉産量_Ⅴ": [{ meat:880000, wood:880000, coal:170000, iron:44000, steel:25000, time:"13:53:20", fc:0 }, { meat:1200000, wood:1200000, coal:240000, iron:61000, steel:35000, time:"20:50:00", fc:0 }, { meat:2600000, wood:2600000, coal:530000, iron:130000, steel:76000, time:"2d 07:33:20", fc:0 }],
    "木材産量_Ⅴ": [{ meat:880000, wood:880000, coal:170000, iron:44000, steel:25000, time:"13:53:20", fc:0 }, { meat:1200000, wood:1200000, coal:240000, iron:61000, steel:35000, time:"20:50:00", fc:0 }, { meat:2600000, wood:2600000, coal:530000, iron:130000, steel:76000, time:"2d 07:33:20", fc:0 }],
    "食物採集_Ⅴ": [{ meat:660000, wood:660000, coal:130000, iron:33000, steel:19000, time:"13:53:20", fc:0 }, { meat:920000, wood:920000, coal:180000, iron:46000, steel:26000, time:"20:50:00", fc:0 }, { meat:1900000, wood:1900000, coal:390000, iron:99000, steel:57000, time:"2d 07:33:20", fc:0 }],
    "木材採集_Ⅴ": [{ meat:660000, wood:660000, coal:130000, iron:33000, steel:19000, time:"13:53:20", fc:0 }, { meat:920000, wood:920000, coal:180000, iron:46000, steel:26000, time:"20:50:00", fc:0 }, { meat:1900000, wood:1900000, coal:390000, iron:99000, steel:57000, time:"2d 07:33:20", fc:0 }],
    "石炭産量_Ⅴ": [{ meat:2200000, wood:2200000, coal:440000, iron:110000, steel:64000, time:"2d 21:26:40", fc:0 }, { meat:3000000, wood:3000000, coal:610000, iron:150000, steel:89000, time:"4d 08:10:00", fc:0 }, { meat:6600000, wood:6600000, coal:1300000, iron:330000, steel:190000, time:"11d 13:46:40", fc:0 }],
    "石炭採集_Ⅴ": [{ meat:1600000, wood:1600000, coal:330000, iron:83000, steel:48000, time:"2d 00:36:40", fc:0 }, { meat:2300000, wood:2300000, coal:460000, iron:110000, steel:67000, time:"3d 00:55:00", fc:0 }, { meat:4900000, wood:4900000, coal:990000, iron:240000, steel:140000, time:"8d 02:26:40", fc:0 }],
    "鉄鉱産量_Ⅴ": [{ meat:2200000, wood:2200000, coal:440000, iron:110000, steel:64000, time:"2d 21:26:40", fc:0 }, { meat:3000000, wood:3000000, coal:610000, iron:150000, steel:89000, time:"4d 08:10:00", fc:0 }, { meat:6600000, wood:6600000, coal:1300000, iron:330000, steel:190000, time:"11d 13:46:40", fc:0 }],
    "鉄鉱石採集_Ⅴ": [{ meat:1600000, wood:1600000, coal:330000, iron:83000, steel:48000, time:"2d 00:36:40", fc:0 }, { meat:2300000, wood:2300000, coal:460000, iron:110000, steel:67000, time:"3d 00:55:00", fc:0 }, { meat:4900000, wood:4900000, coal:990000, iron:240000, steel:140000, time:"8d 02:26:40", fc:0 }],

    // --- ランク Ⅵ ---
    "生肉産量_Ⅵ": [{ meat:3100000, wood:3100000, coal:620000, iron:150000, steel:51000, time:"2d 18:40:00", fc:0 }, { meat:4300000, wood:4300000, coal:870000, iron:210000, steel:71000, time:"4d 04:00:00", fc:0 }, { meat:9300000, wood:9300000, coal:1800000, iron:460000, steel:150000, time:"11d 02:40:00", fc:0 }],
    "木材産量_Ⅵ": [{ meat:3100000, wood:3100000, coal:620000, iron:150000, steel:51000, time:"2d 18:40:00", fc:0 }, { meat:4300000, wood:4300000, coal:870000, iron:210000, steel:71000, time:"4d 04:00:00", fc:0 }, { meat:9300000, wood:9300000, coal:1800000, iron:460000, steel:150000, time:"11d 02:40:00", fc:0 }],
    "食物採集_Ⅵ": [{ meat:2300000, wood:2300000, coal:460000, iron:110000, steel:38000, time:"2d 18:40:00", fc:0 }, { meat:3200000, wood:3200000, coal:650000, iron:160000, steel:53000, time:"4d 04:00:00", fc:0 }, { meat:6900000, wood:6900000, coal:1300000, iron:340000, steel:110000, time:"11d 02:40:00", fc:0 }],
    "木材採集_Ⅵ": [{ meat:2300000, wood:2300000, coal:460000, iron:110000, steel:38000, time:"2d 18:40:00", fc:0 }, { meat:3200000, wood:3200000, coal:650000, iron:160000, steel:53000, time:"4d 04:00:00", fc:0 }, { meat:6900000, wood:6900000, coal:1300000, iron:340000, steel:110000, time:"11d 02:40:00", fc:0 }],
    
    // =================================================================
    // ▼ 科学研究：戦闘 (ランクによってMax Lvが変動)
    // =================================================================

    // --- ランク Ⅰ (Max Lv3) ---
    "武器特訓_Ⅰ": [{ meat:8700, wood:8700, coal:1700, iron:430, steel:520, time:"00:02:55", fc:0 }, { meat:12000, wood:12000, coal:2400, iron:610, steel:720, time:"00:04:23", fc:0 }, { meat:26000, wood:26000, coal:5200, iron:1300, steel:1500, time:"00:11:42", fc:0 }],
    "防衛反撃_Ⅰ": [{ meat:3300, wood:3300, coal:670, iron:160, steel:200, time:"00:01:07", fc:0 }, { meat:4700, wood:4700, coal:940, iron:230, steel:280, time:"00:01:41", fc:0 }, { meat:10000, wood:10000, coal:2000, iron:500, steel:600, time:"00:04:30", fc:0 }],
    "精密射撃_Ⅰ": [{ meat:8100, wood:8100, coal:1600, iron:400, steel:480, time:"00:02:42", fc:0 }, { meat:11000, wood:11000, coal:2200, iron:560, steel:670, time:"00:04:03", fc:0 }, { meat:24000, wood:24000, coal:4800, iron:1200, steel:1400, time:"00:10:48", fc:0 }],
    "高速突刺_Ⅰ": [{ meat:8100, wood:8100, coal:1600, iron:400, steel:480, time:"00:02:42", fc:0 }, { meat:11000, wood:11000, coal:2200, iron:560, steel:670, time:"00:04:03", fc:0 }, { meat:24000, wood:24000, coal:4800, iron:1200, steel:1400, time:"00:10:48", fc:0 }],
    "防衛陣形_Ⅰ": [{ meat:10000, wood:10000, coal:2000, iron:500, steel:600, time:"00:03:22", fc:0 }, { meat:14000, wood:14000, coal:2800, iron:700, steel:840, time:"00:05:03", fc:0 }, { meat:30000, wood:30000, coal:6000, iron:1500, steel:1800, time:"00:13:30", fc:0 }],
    "警戒隊形_Ⅰ": [{ meat:5400, wood:5400, coal:1000, iron:270, steel:320, time:"00:01:48", fc:0 }, { meat:7500, wood:7500, coal:1500, iron:370, steel:440, time:"00:02:42", fc:0 }, { meat:16000, wood:16000, coal:3200, iron:810, steel:960, time:"00:07:12", fc:0 }],
    "堅守陣地_Ⅰ": [{ meat:5400, wood:5400, coal:1000, iron:270, steel:320, time:"00:01:48", fc:0 }, { meat:7500, wood:7500, coal:1500, iron:370, steel:440, time:"00:02:42", fc:0 }, { meat:16000, wood:16000, coal:3200, iron:810, steel:960, time:"00:07:12", fc:0 }],
    "防御特訓_Ⅰ": [{ meat:8700, wood:8700, coal:1700, iron:430, steel:520, time:"00:02:55", fc:0 }, { meat:12000, wood:12000, coal:2400, iron:610, steel:720, time:"00:04:23", fc:0 }, { meat:26000, wood:26000, coal:5200, iron:1300, steel:1500, time:"00:11:42", fc:0 }],
    "生存特訓_Ⅰ": [{ meat:8700, wood:8700, coal:1700, iron:430, steel:520, time:"00:02:55", fc:0 }, { meat:12000, wood:12000, coal:2400, iron:610, steel:720, time:"00:04:23", fc:0 }, { meat:26000, wood:26000, coal:5200, iron:1300, steel:1500, time:"00:11:42", fc:0 }],
    "突撃特訓_Ⅰ": [{ meat:8700, wood:8700, coal:1700, iron:430, steel:520, time:"00:02:55", fc:0 }, { meat:12000, wood:12000, coal:2400, iron:610, steel:720, time:"00:04:23", fc:0 }, { meat:26000, wood:26000, coal:5200, iron:1300, steel:1500, time:"00:11:42", fc:0 }],
    "編成拡大_Ⅰ": [{ meat:9400, wood:9400, coal:1800, iron:470, steel:560, time:"00:03:36", fc:0 }, { meat:13000, wood:13000, coal:2600, iron:660, steel:780, time:"00:05:24", fc:0 }, { meat:28000, wood:28000, coal:5600, iron:1400, steel:1600, time:"00:14:24", fc:0 }],
    "力戦奮闘_Ⅰ": [{ meat:3300, wood:3300, coal:670, iron:160, steel:200, time:"00:01:07", fc:0 }, { meat:4700, wood:4700, coal:940, iron:230, steel:280, time:"00:01:41", fc:0 }, { meat:10000, wood:10000, coal:2000, iron:500, steel:600, time:"00:04:30", fc:0 }],
    "定点狙撃_Ⅰ": [{ meat:8100, wood:8100, coal:1600, iron:400, steel:480, time:"00:02:42", fc:0 }, { meat:11000, wood:11000, coal:2200, iron:560, steel:670, time:"00:04:03", fc:0 }, { meat:24000, wood:24000, coal:4800, iron:1200, steel:1400, time:"00:10:48", fc:0 }],
    "長矛改良_Ⅰ": [{ meat:8100, wood:8100, coal:1600, iron:400, steel:480, time:"00:02:42", fc:0 }, { meat:11000, wood:11000, coal:2200, iron:560, steel:670, time:"00:04:03", fc:0 }, { meat:24000, wood:24000, coal:4800, iron:1200, steel:1400, time:"00:10:48", fc:0 }],
    "盾改良_Ⅰ":   [{ meat:10000, wood:10000, coal:2000, iron:500, steel:600, time:"00:03:22", fc:0 }, { meat:14000, wood:14000, coal:2800, iron:700, steel:840, time:"00:05:03", fc:0 }, { meat:30000, wood:30000, coal:6000, iron:1500, steel:1800, time:"00:13:30", fc:0 }],
    "弓兵防具_Ⅰ": [{ meat:5400, wood:5400, coal:1000, iron:270, steel:320, time:"00:01:48", fc:0 }, { meat:7500, wood:7500, coal:1500, iron:370, steel:440, time:"00:02:42", fc:0 }, { meat:16000, wood:16000, coal:3200, iron:810, steel:960, time:"00:07:12", fc:0 }],
    "槍兵防具_Ⅰ": [{ meat:5400, wood:5400, coal:1000, iron:270, steel:320, time:"00:01:48", fc:0 }, { meat:7500, wood:7500, coal:1500, iron:370, steel:440, time:"00:02:42", fc:0 }, { meat:16000, wood:16000, coal:3200, iron:810, steel:960, time:"00:07:12", fc:0 }],

    // --- ランク Ⅱ (Max Lv3) ---
    "武器特訓_Ⅱ": [{ meat:87000, wood:87000, coal:17000, iron:4300, steel:1000, time:"00:32:30", fc:0 }, { meat:120000, wood:120000, coal:24000, iron:6100, steel:1400, time:"00:48:45", fc:0 }, { meat:260000, wood:260000, coal:52000, iron:13000, steel:3100, time:"02:10:00", fc:0 }],
    "防衛反撃_Ⅱ": [{ meat:33000, wood:33000, coal:6700, iron:1600, steel:400, time:"00:12:30", fc:0 }, { meat:47000, wood:47000, coal:9400, iron:2300, steel:560, time:"00:18:45", fc:0 }, { meat:100000, wood:100000, coal:20000, iron:5000, steel:1200, time:"00:50:00", fc:0 }],
    "精密射撃_Ⅱ": [{ meat:81000, wood:81000, coal:16000, iron:4000, steel:960, time:"00:30:00", fc:0 }, { meat:110000, wood:110000, coal:22000, iron:5600, steel:1300, time:"00:45:00", fc:0 }, { meat:240000, wood:240000, coal:48000, iron:12000, steel:2800, time:"02:00:00", fc:0 }],
    "高速突刺_Ⅱ": [{ meat:81000, wood:81000, coal:16000, iron:4000, steel:960, time:"00:30:00", fc:0 }, { meat:110000, wood:110000, coal:22000, iron:5600, steel:1300, time:"00:45:00", fc:0 }, { meat:240000, wood:240000, coal:48000, iron:12000, steel:2800, time:"02:00:00", fc:0 }],
    "防衛陣形_Ⅱ": [{ meat:100000, wood:100000, coal:20000, iron:5000, steel:1200, time:"00:37:30", fc:0 }, { meat:140000, wood:140000, coal:28000, iron:7000, steel:1600, time:"00:56:15", fc:0 }, { meat:300000, wood:300000, coal:60000, iron:15000, steel:3600, time:"02:30:00", fc:0 }],
    "警戒隊形_Ⅱ": [{ meat:5400, wood:5400, coal:1000, iron:270, steel:320, time:"00:01:48", fc:0 }, { meat:7500, wood:7500, coal:1500, iron:370, steel:440, time:"00:02:42", fc:0 }, { meat:16000, wood:16000, coal:3200, iron:810, steel:960, time:"00:07:12", fc:0 }],
    "堅守陣地_Ⅱ": [{ meat:5400, wood:5400, coal:1000, iron:270, steel:320, time:"00:01:48", fc:0 }, { meat:7500, wood:7500, coal:1500, iron:370, steel:440, time:"00:02:42", fc:0 }, { meat:16000, wood:16000, coal:3200, iron:810, steel:960, time:"00:07:12", fc:0 }],
    "防御特訓_Ⅱ": [{ meat:87000, wood:87000, coal:17000, iron:4300, steel:1000, time:"00:32:30", fc:0 }, { meat:120000, wood:120000, coal:24000, iron:6100, steel:1400, time:"00:48:45", fc:0 }, { meat:260000, wood:260000, coal:52000, iron:13000, steel:3100, time:"02:10:00", fc:0 }],
    "生存特訓_Ⅱ": [{ meat:87000, wood:87000, coal:17000, iron:4300, steel:1000, time:"00:32:30", fc:0 }, { meat:120000, wood:120000, coal:24000, iron:6100, steel:1400, time:"00:48:45", fc:0 }, { meat:260000, wood:260000, coal:52000, iron:13000, steel:3100, time:"02:10:00", fc:0 }],
    "突撃特訓_Ⅱ": [{ meat:87000, wood:87000, coal:17000, iron:4300, steel:1000, time:"00:32:30", fc:0 }, { meat:120000, wood:120000, coal:24000, iron:6100, steel:1400, time:"00:48:45", fc:0 }, { meat:260000, wood:260000, coal:52000, iron:13000, steel:3100, time:"02:10:00", fc:0 }],
    "編成拡大_Ⅱ": [{ meat:94000, wood:94000, coal:18000, iron:4700, steel:1100, time:"00:40:00", fc:0 }, { meat:130000, wood:130000, coal:26000, iron:6600, steel:1500, time:"01:00:00", fc:0 }, { meat:280000, wood:280000, coal:56000, iron:14000, steel:3300, time:"02:40:00", fc:0 }],
    "力戦奮闘_Ⅱ": [{ meat:33000, wood:33000, coal:6700, iron:1600, steel:400, time:"00:12:30", fc:0 }, { meat:47000, wood:47000, coal:9400, iron:2300, steel:560, time:"00:18:45", fc:0 }, { meat:100000, wood:100000, coal:20000, iron:5000, steel:1200, time:"00:50:00", fc:0 }],
    "定点狙撃_Ⅱ": [{ meat:81000, wood:81000, coal:16000, iron:4000, steel:960, time:"00:30:00", fc:0 }, { meat:110000, wood:110000, coal:22000, iron:5600, steel:1300, time:"00:45:00", fc:0 }, { meat:240000, wood:240000, coal:48000, iron:12000, steel:2800, time:"02:00:00", fc:0 }],
    "長矛改良_Ⅱ": [{ meat:81000, wood:81000, coal:16000, iron:4000, steel:960, time:"00:30:00", fc:0 }, { meat:110000, wood:110000, coal:22000, iron:5600, steel:1300, time:"00:45:00", fc:0 }, { meat:240000, wood:240000, coal:48000, iron:12000, steel:2800, time:"02:00:00", fc:0 }],
    "盾改良_Ⅱ":   [{ meat:100000, wood:100000, coal:20000, iron:5000, steel:1200, time:"00:37:30", fc:0 }, { meat:140000, wood:140000, coal:28000, iron:7000, steel:1600, time:"00:56:15", fc:0 }, { meat:300000, wood:300000, coal:60000, iron:15000, steel:3600, time:"02:30:00", fc:0 }],
    "弓兵防具_Ⅱ": [{ meat:5400, wood:5400, coal:1000, iron:270, steel:320, time:"00:01:48", fc:0 }, { meat:7500, wood:7500, coal:1500, iron:370, steel:440, time:"00:02:42", fc:0 }, { meat:16000, wood:16000, coal:3200, iron:810, steel:960, time:"00:07:12", fc:0 }],
    "槍兵防具_Ⅱ": [{ meat:5400, wood:5400, coal:1000, iron:270, steel:320, time:"00:01:48", fc:0 }, { meat:7500, wood:7500, coal:1500, iron:370, steel:440, time:"00:02:42", fc:0 }, { meat:16000, wood:16000, coal:3200, iron:810, steel:960, time:"00:07:12", fc:0 }],

    // --- ランク Ⅲ (Max Lv4) ---
    "武器特訓_Ⅲ": [{ meat:280000, wood:280000, coal:56000, iron:14000, steel:3100, time:"02:10:00", fc:0 }, { meat:360000, wood:360000, coal:73000, iron:18000, steel:4000, time:"02:36:00", fc:0 }, { meat:470000, wood:470000, coal:95000, iron:23000, steel:5300, time:"04:20:00", fc:0 }, { meat:1100000, wood:1100000, coal:220000, iron:56000, steel:12000, time:"13:00:00", fc:0 }],
    "防衛反撃_Ⅲ": [{ meat:100000, wood:100000, coal:21000, iron:5400, steel:1200, time:"00:50:00", fc:0 }, { meat:140000, wood:140000, coal:28000, iron:7000, steel:1500, time:"01:00:00", fc:0 }, { meat:180000, wood:180000, coal:36000, iron:9100, steel:2000, time:"01:40:00", fc:0 }, { meat:430000, wood:430000, coal:86000, iron:21000, steel:4800, time:"05:00:00", fc:0 }],
    "精密射撃_Ⅲ": [{ meat:250000, wood:250000, coal:51000, iron:12000, steel:2800, time:"02:00:00", fc:0 }, { meat:330000, wood:330000, coal:67000, iron:16000, steel:3700, time:"02:24:00", fc:0 }, { meat:440000, wood:440000, coal:88000, iron:22000, steel:4800, time:"04:00:00", fc:0 }, { meat:1000000, wood:1000000, coal:200000, iron:51000, steel:11000, time:"12:00:00", fc:0 }],
    "高速突刺_Ⅲ": [{ meat:250000, wood:250000, coal:51000, iron:12000, steel:2800, time:"02:00:00", fc:0 }, { meat:330000, wood:330000, coal:67000, iron:16000, steel:3700, time:"02:24:00", fc:0 }, { meat:440000, wood:440000, coal:88000, iron:22000, steel:4800, time:"04:00:00", fc:0 }, { meat:1000000, wood:1000000, coal:200000, iron:51000, steel:11000, time:"12:00:00", fc:0 }],
    "防衛陣形_Ⅲ": [{ meat:320000, wood:320000, coal:64000, iron:16000, steel:3600, time:"02:30:00", fc:0 }, { meat:420000, wood:420000, coal:84000, iron:21000, steel:4600, time:"03:00:00", fc:0 }, { meat:550000, wood:550000, coal:110000, iron:27000, steel:6100, time:"05:00:00", fc:0 }, { meat:1200000, wood:1200000, coal:250000, iron:64000, steel:14000, time:"15:00:00", fc:0 }],
    "警戒隊形_Ⅲ": [{ meat:170000, wood:170000, coal:34000, iron:8600, steel:1900, time:"01:20:00", fc:0 }, { meat:220000, wood:220000, coal:44000, iron:11000, steel:2400, time:"01:36:00", fc:0 }, { meat:290000, wood:290000, coal:58000, iron:14000, steel:3200, time:"02:40:00", fc:0 }, { meat:690000, wood:690000, coal:130000, iron:34000, steel:7600, time:"08:00:00", fc:0 }],
    "堅守陣地_Ⅲ": [{ meat:170000, wood:170000, coal:34000, iron:8600, steel:1900, time:"01:20:00", fc:0 }, { meat:220000, wood:220000, coal:44000, iron:11000, steel:2400, time:"01:36:00", fc:0 }, { meat:290000, wood:290000, coal:58000, iron:14000, steel:3200, time:"02:40:00", fc:0 }, { meat:690000, wood:690000, coal:130000, iron:34000, steel:7600, time:"08:00:00", fc:0 }],
    "防御特訓_Ⅲ": [{ meat:280000, wood:280000, coal:56000, iron:14000, steel:3100, time:"02:10:00", fc:0 }, { meat:360000, wood:360000, coal:73000, iron:18000, steel:4000, time:"02:36:00", fc:0 }, { meat:470000, wood:470000, coal:95000, iron:23000, steel:5300, time:"04:20:00", fc:0 }, { meat:1100000, wood:1100000, coal:220000, iron:56000, steel:12000, time:"13:00:00", fc:0 }],
    "生存特訓_Ⅲ": [{ meat:280000, wood:280000, coal:56000, iron:14000, steel:3100, time:"02:10:00", fc:0 }, { meat:360000, wood:360000, coal:73000, iron:18000, steel:4000, time:"02:36:00", fc:0 }, { meat:470000, wood:470000, coal:95000, iron:23000, steel:5300, time:"04:20:00", fc:0 }, { meat:1100000, wood:1100000, coal:220000, iron:56000, steel:12000, time:"13:00:00", fc:0 }],
    "突撃特訓_Ⅲ": [{ meat:280000, wood:280000, coal:56000, iron:14000, steel:3100, time:"02:10:00", fc:0 }, { meat:360000, wood:360000, coal:73000, iron:18000, steel:4000, time:"02:36:00", fc:0 }, { meat:470000, wood:470000, coal:95000, iron:23000, steel:5300, time:"04:20:00", fc:0 }, { meat:1100000, wood:1100000, coal:220000, iron:56000, steel:12000, time:"13:00:00", fc:0 }],
    "編成拡大_Ⅲ": [{ meat:300000, wood:300000, coal:60000, iron:15000, steel:3300, time:"02:40:00", fc:0 }, { meat:390000, wood:390000, coal:78000, iron:19000, steel:4300, time:"03:12:00", fc:0 }, { meat:510000, wood:510000, coal:100000, iron:25000, steel:5700, time:"05:20:00", fc:0 }, { meat:1200000, wood:1200000, coal:240000, iron:60000, steel:13000, time:"16:00:00", fc:0 }],
    "力戦奮闘_Ⅲ": [{ meat:100000, wood:100000, coal:21000, iron:5400, steel:1200, time:"00:50:00", fc:0 }, { meat:140000, wood:140000, coal:28000, iron:7000, steel:1500, time:"01:00:00", fc:0 }, { meat:180000, wood:180000, coal:36000, iron:9100, steel:2000, time:"01:40:00", fc:0 }, { meat:430000, wood:430000, coal:86000, iron:21000, steel:4800, time:"05:00:00", fc:0 }],
    "定点狙撃_Ⅲ": [{ meat:250000, wood:250000, coal:51000, iron:12000, steel:2800, time:"02:00:00", fc:0 }, { meat:330000, wood:330000, coal:67000, iron:16000, steel:3700, time:"02:24:00", fc:0 }, { meat:440000, wood:440000, coal:88000, iron:22000, steel:4800, time:"04:00:00", fc:0 }, { meat:1000000, wood:1000000, coal:200000, iron:51000, steel:11000, time:"12:00:00", fc:0 }],
    "長矛改良_Ⅲ": [{ meat:250000, wood:250000, coal:51000, iron:12000, steel:2800, time:"02:00:00", fc:0 }, { meat:330000, wood:330000, coal:67000, iron:16000, steel:3700, time:"02:24:00", fc:0 }, { meat:440000, wood:440000, coal:88000, iron:22000, steel:4800, time:"04:00:00", fc:0 }, { meat:1000000, wood:1000000, coal:200000, iron:51000, steel:11000, time:"12:00:00", fc:0 }],
    "盾改良_Ⅲ":   [{ meat:320000, wood:320000, coal:64000, iron:16000, steel:3600, time:"02:30:00", fc:0 }, { meat:420000, wood:420000, coal:84000, iron:21000, steel:4600, time:"03:00:00", fc:0 }, { meat:550000, wood:550000, coal:110000, iron:27000, steel:6100, time:"05:00:00", fc:0 }, { meat:1200000, wood:1200000, coal:250000, iron:64000, steel:14000, time:"15:00:00", fc:0 }],
    "弓兵防具_Ⅲ": [{ meat:170000, wood:170000, coal:34000, iron:8600, steel:1900, time:"01:20:00", fc:0 }, { meat:220000, wood:220000, coal:44000, iron:11000, steel:2400, time:"01:36:00", fc:0 }, { meat:290000, wood:290000, coal:58000, iron:14000, steel:3200, time:"02:40:00", fc:0 }, { meat:690000, wood:690000, coal:130000, iron:34000, steel:7600, time:"08:00:00", fc:0 }],
    "槍兵防具_Ⅲ": [{ meat:170000, wood:170000, coal:34000, iron:8600, steel:1900, time:"01:20:00", fc:0 }, { meat:220000, wood:220000, coal:44000, iron:11000, steel:2400, time:"01:36:00", fc:0 }, { meat:290000, wood:290000, coal:58000, iron:14000, steel:3200, time:"02:40:00", fc:0 }, { meat:690000, wood:690000, coal:130000, iron:34000, steel:7600, time:"08:00:00", fc:0 }],

    // --- ランク Ⅳ (Max Lv5) ---
    "武器特訓_Ⅳ": [{ meat:800000, wood:800000, coal:160000, iron:40000, steel:10000, time:"14:26:40", fc:0 }, { meat:960000, wood:960000, coal:190000, iron:48000, steel:12000, time:"18:46:40", fc:0 }, { meat:1100000, wood:1100000, coal:220000, iron:56000, steel:14000, time:"1d 04:53:20", fc:0 }, { meat:1400000, wood:1400000, coal:290000, iron:72000, steel:18000, time:"1d 19:20:00", fc:0 }, { meat:2900000, wood:2900000, coal:590000, iron:140000, steel:38000, time:"4d 12:20:00", fc:0 }],
    "防衛反撃_Ⅳ": [{ meat:310000, wood:310000, coal:62000, iron:15000, steel:4000, time:"05:33:20", fc:0 }, { meat:370000, wood:370000, coal:74000, iron:18000, steel:4800, time:"07:13:20", fc:0 }, { meat:430000, wood:430000, coal:86000, iron:21000, steel:5600, time:"11:06:40", fc:0 }, { meat:550000, wood:550000, coal:110000, iron:27000, steel:7200, time:"16:40:00", fc:0 }, { meat:1100000, wood:1100000, coal:220000, iron:57000, steel:14000, time:"1d 17:40:00", fc:0 }],
    "精密射撃_Ⅳ": [{ meat:740000, wood:740000, coal:140000, iron:37000, steel:9600, time:"13:20:00", fc:0 }, { meat:890000, wood:890000, coal:170000, iron:44000, steel:11000, time:"17:20:00", fc:0 }, { meat:1000000, wood:1000000, coal:200000, iron:52000, steel:13000, time:"1d 02:40:00", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:67000, steel:17000, time:"1d 16:00:00", fc:0 }, { meat:2700000, wood:2700000, coal:550000, iron:130000, steel:35000, time:"4d 04:00:00", fc:0 }],
    "高速突刺_Ⅳ": [{ meat:740000, wood:740000, coal:140000, iron:37000, steel:9600, time:"13:20:00", fc:0 }, { meat:890000, wood:890000, coal:170000, iron:44000, steel:11000, time:"17:20:00", fc:0 }, { meat:1000000, wood:1000000, coal:200000, iron:52000, steel:13000, time:"1d 02:40:00", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:67000, steel:17000, time:"1d 16:00:00", fc:0 }, { meat:2700000, wood:2700000, coal:550000, iron:130000, steel:35000, time:"4d 04:00:00", fc:0 }],
    "防衛陣形_Ⅳ": [{ meat:930000, wood:930000, coal:180000, iron:46000, steel:12000, time:"16:40:00", fc:0 }, { meat:1100000, wood:1100000, coal:220000, iron:55000, steel:14000, time:"21:40:00", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:65000, steel:16000, time:"1d 09:20:00", fc:0 }, { meat:1600000, wood:1600000, coal:330000, iron:83000, steel:21000, time:"2d 02:00:00", fc:0 }, { meat:3400000, wood:3400000, coal:680000, iron:170000, steel:44000, time:"5d 05:00:00", fc:0 }],
    "警戒隊形_Ⅳ": [{ meat:490000, wood:490000, coal:99000, iron:24000, steel:6400, time:"08:53:20", fc:0 }, { meat:590000, wood:590000, coal:110000, iron:29000, steel:7600, time:"11:33:20", fc:0 }, { meat:690000, wood:690000, coal:130000, iron:34000, steel:8900, time:"17:46:40", fc:0 }, { meat:890000, wood:890000, coal:170000, iron:44000, steel:11000, time:"1d 02:40:00", fc:0 }, { meat:1800000, wood:1800000, coal:360000, iron:91000, steel:23000, time:"2d 18:40:00", fc:0 }],
    "堅守陣地_Ⅳ": [{ meat:490000, wood:490000, coal:99000, iron:24000, steel:6400, time:"08:53:20", fc:0 }, { meat:590000, wood:590000, coal:110000, iron:29000, steel:7600, time:"11:33:20", fc:0 }, { meat:690000, wood:690000, coal:130000, iron:34000, steel:8900, time:"17:46:40", fc:0 }, { meat:890000, wood:890000, coal:170000, iron:44000, steel:11000, time:"1d 02:40:00", fc:0 }, { meat:1800000, wood:1800000, coal:360000, iron:91000, steel:23000, time:"2d 18:40:00", fc:0 }],
    "防御特訓_Ⅳ": [{ meat:800000, wood:800000, coal:160000, iron:40000, steel:10000, time:"14:26:40", fc:0 }, { meat:960000, wood:960000, coal:190000, iron:48000, steel:12000, time:"18:46:40", fc:0 }, { meat:1100000, wood:1100000, coal:220000, iron:56000, steel:14000, time:"1d 04:53:20", fc:0 }, { meat:1400000, wood:1400000, coal:290000, iron:72000, steel:18000, time:"1d 19:20:00", fc:0 }, { meat:2900000, wood:2900000, coal:590000, iron:140000, steel:38000, time:"4d 12:20:00", fc:0 }],
    "生存特訓_Ⅳ": [{ meat:800000, wood:800000, coal:160000, iron:40000, steel:10000, time:"14:26:40", fc:0 }, { meat:960000, wood:960000, coal:190000, iron:48000, steel:12000, time:"18:46:40", fc:0 }, { meat:1100000, wood:1100000, coal:220000, iron:56000, steel:14000, time:"1d 04:53:20", fc:0 }, { meat:1400000, wood:1400000, coal:290000, iron:72000, steel:18000, time:"1d 19:20:00", fc:0 }, { meat:2900000, wood:2900000, coal:590000, iron:140000, steel:38000, time:"4d 12:20:00", fc:0 }],
    "突撃特訓_Ⅳ": [{ meat:800000, wood:800000, coal:160000, iron:40000, steel:10000, time:"14:26:40", fc:0 }, { meat:960000, wood:960000, coal:190000, iron:48000, steel:12000, time:"18:46:40", fc:0 }, { meat:1100000, wood:1100000, coal:220000, iron:56000, steel:14000, time:"1d 04:53:20", fc:0 }, { meat:1400000, wood:1400000, coal:290000, iron:72000, steel:18000, time:"1d 19:20:00", fc:0 }, { meat:2900000, wood:2900000, coal:590000, iron:140000, steel:38000, time:"4d 12:20:00", fc:0 }],
    "編成拡大_Ⅳ": [{ meat:860000, wood:860000, coal:170000, iron:43000, steel:11000, time:"17:46:40", fc:0 }, { meat:1000000, wood:1000000, coal:200000, iron:52000, steel:13000, time:"23:06:40", fc:0 }, { meat:1200000, wood:1200000, coal:240000, iron:60000, steel:15000, time:"1d 11:33:20", fc:0 }, { meat:1500000, wood:1500000, coal:310000, iron:78000, steel:20000, time:"2d 05:20:00", fc:0 }, { meat:3200000, wood:3200000, coal:640000, iron:160000, steel:41000, time:"5d 13:20:00", fc:0 }],
    "力戦奮闘_Ⅳ": [{ meat:310000, wood:310000, coal:62000, iron:15000, steel:4000, time:"05:33:20", fc:0 }, { meat:370000, wood:370000, coal:74000, iron:18000, steel:4800, time:"07:13:20", fc:0 }, { meat:430000, wood:430000, coal:86000, iron:21000, steel:5600, time:"11:06:40", fc:0 }, { meat:550000, wood:550000, coal:110000, iron:27000, steel:7200, time:"16:40:00", fc:0 }, { meat:1100000, wood:1100000, coal:220000, iron:57000, steel:14000, time:"1d 17:40:00", fc:0 }],
    "定点狙撃_Ⅳ": [{ meat:740000, wood:740000, coal:140000, iron:37000, steel:9600, time:"13:20:00", fc:0 }, { meat:890000, wood:890000, coal:170000, iron:44000, steel:11000, time:"17:20:00", fc:0 }, { meat:1000000, wood:1000000, coal:200000, iron:52000, steel:13000, time:"1d 02:40:00", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:67000, steel:17000, time:"1d 16:00:00", fc:0 }, { meat:2700000, wood:2700000, coal:550000, iron:130000, steel:35000, time:"4d 04:00:00", fc:0 }],
    "長矛改良_Ⅳ": [{ meat:740000, wood:740000, coal:140000, iron:37000, steel:9600, time:"13:20:00", fc:0 }, { meat:890000, wood:890000, coal:170000, iron:44000, steel:11000, time:"17:20:00", fc:0 }, { meat:1000000, wood:1000000, coal:200000, iron:52000, steel:13000, time:"1d 02:40:00", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:67000, steel:17000, time:"1d 16:00:00", fc:0 }, { meat:2700000, wood:2700000, coal:550000, iron:130000, steel:35000, time:"4d 04:00:00", fc:0 }],
    "盾改良_Ⅳ":   [{ meat:930000, wood:930000, coal:180000, iron:46000, steel:12000, time:"16:40:00", fc:0 }, { meat:1100000, wood:1100000, coal:220000, iron:55000, steel:14000, time:"21:40:00", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:65000, steel:16000, time:"1d 09:20:00", fc:0 }, { meat:1600000, wood:1600000, coal:330000, iron:83000, steel:21000, time:"2d 02:00:00", fc:0 }, { meat:3400000, wood:3400000, coal:680000, iron:170000, steel:44000, time:"5d 05:00:00", fc:0 }],
    "弓兵防具_Ⅳ": [{ meat:490000, wood:490000, coal:99000, iron:24000, steel:6400, time:"08:53:20", fc:0 }, { meat:590000, wood:590000, coal:110000, iron:29000, steel:7600, time:"11:33:20", fc:0 }, { meat:690000, wood:690000, coal:130000, iron:34000, steel:8900, time:"17:46:40", fc:0 }, { meat:890000, wood:890000, coal:170000, iron:44000, steel:11000, time:"1d 02:40:00", fc:0 }, { meat:1800000, wood:1800000, coal:360000, iron:91000, steel:23000, time:"2d 18:40:00", fc:0 }],
    "槍兵防具_Ⅳ": [{ meat:490000, wood:490000, coal:99000, iron:24000, steel:6400, time:"08:53:20", fc:0 }, { meat:590000, wood:590000, coal:110000, iron:29000, steel:7600, time:"11:33:20", fc:0 }, { meat:690000, wood:690000, coal:130000, iron:34000, steel:8900, time:"17:46:40", fc:0 }, { meat:890000, wood:890000, coal:170000, iron:44000, steel:11000, time:"1d 02:40:00", fc:0 }, { meat:1800000, wood:1800000, coal:360000, iron:91000, steel:23000, time:"2d 18:40:00", fc:0 }],

    // --- ランク Ⅴ (Max Lv6) ---
    "武器特訓_Ⅴ": [{ meat:1400000, wood:1400000, coal:280000, iron:71000, steel:41000, time:"3d 18:16:40", fc:0 }, { meat:1400000, wood:1400000, coal:280000, iron:71000, steel:41000, time:"3d 18:16:40", fc:0 }, { meat:1400000, wood:1400000, coal:280000, iron:71000, steel:41000, time:"4d 03:18:20", fc:0 }, { meat:1700000, wood:1700000, coal:340000, iron:86000, steel:49000, time:"6d 13:59:10", fc:0 }, { meat:2000000, wood:2000000, coal:400000, iron:100000, steel:58000, time:"7d 21:35:00", fc:0 }, { meat:3900000, wood:3900000, coal:790000, iron:190000, steel:110000, time:"18d 19:23:20", fc:0 }],
    "防衛反撃_Ⅴ": [{ meat:550000, wood:550000, coal:110000, iron:27000, steel:16000, time:"1d 10:43:20", fc:0 }, { meat:550000, wood:550000, coal:110000, iron:27000, steel:16000, time:"1d 10:43:20", fc:0 },  { meat:550000, wood:550000, coal:110000, iron:27000, steel:16000, time:"1d 14:11:40", fc:0 },  { meat:660000, wood:660000, coal:130000, iron:33000, steel:19000, time:"2d 12:45:50", fc:0 }, { meat:770000, wood:770000, coal:150000, iron:38000, steel:22000, time:"3d 00:55:00", fc:0 }, { meat:1500000, wood:1500000, coal:300000, iron:76000, steel:44000, time:"7d 05:36:40", fc:0 }],
    "精密射撃_Ⅴ": [{ meat:1300000, wood:1300000, coal:260000, iron:66000, steel:38000, time:"3d 11:20:00", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:66000, steel:38000, time:"3d 11:20:00", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:66000, steel:38000, time:"3d 19:40:00", fc:0 }, { meat:1500000, wood:1500000, coal:310000, iron:79000, steel:46000, time:"6d 01:50:00", fc:0 }, { meat:1800000, wood:1800000, coal:370000, iron:92000, steel:53000, time:"7d 07:00:00", fc:0 }, { meat:3600000, wood:3600000, coal:730000, iron:180000, steel:100000, time:"17d 08:40:00", fc:0 }],
    "高速突刺_Ⅴ": [{ meat:1300000, wood:1300000, coal:260000, iron:66000, steel:38000, time:"3d 11:20:00", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:66000, steel:38000, time:"3d 11:20:00", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:66000, steel:38000, time:"3d 19:40:00", fc:0 }, { meat:1500000, wood:1500000, coal:310000, iron:79000, steel:46000, time:"6d 01:50:00", fc:0 }, { meat:1800000, wood:1800000, coal:370000, iron:92000, steel:53000, time:"7d 07:00:00", fc:0 }, { meat:3600000, wood:3600000, coal:730000, iron:180000, steel:100000, time:"17d 08:40:00", fc:0 }],
    "防衛陣形_Ⅴ": [{ meat:1600000, wood:1600000, coal:330000, iron:83000, steel:48000, time:"4d 08:10:00", fc:0 }, { meat:1600000, wood:1600000, coal:330000, iron:83000, steel:48000, time:"4d 08:10:00", fc:0 }, { meat:1600000, wood:1600000, coal:330000, iron:83000, steel:48000, time:"4d 18:35:00", fc:0 }, { meat:1900000, wood:1900000, coal:390000, iron:99000, steel:57000, time:"7d 14:17:30", fc:0 }, { meat:2300000, wood:2300000, coal:460000, iron:110000, steel:67000, time:"9d 02:45:00", fc:0 }, { meat:4500000, wood:4500000, coal:910000, iron:220000, steel:130000, time:"21d 16:50:00", fc:0 }],
    "警戒隊形_Ⅴ": [{ meat:880000, wood:880000, coal:170000, iron:44000, steel:25000, time:"2d 07:33:20", fc:0 }, { meat:880000, wood:880000, coal:170000, iron:44000, steel:25000, time:"2d 07:33:20", fc:0 }, { meat:880000, wood:880000, coal:170000, iron:44000, steel:25000, time:"2d 13:06:40", fc:0 }, { meat:1000000, wood:1000000, coal:210000, iron:53000, steel:30000, time:"4d 01:13:20", fc:0 }, { meat:1200000, wood:1200000, coal:240000, iron:61000, steel:35000, time:"4d 20:40:00", fc:0 }, { meat:2400000, wood:2400000, coal:480000, iron:120000, steel:70000, time:"11d 13:46:40", fc:0 }],
    "堅守陣地_Ⅴ": [{ meat:880000, wood:880000, coal:170000, iron:44000, steel:25000, time:"2d 07:33:20", fc:0 }, { meat:880000, wood:880000, coal:170000, iron:44000, steel:25000, time:"2d 07:33:20", fc:0 }, { meat:880000, wood:880000, coal:170000, iron:44000, steel:25000, time:"2d 13:06:40", fc:0 }, { meat:1000000, wood:1000000, coal:210000, iron:53000, steel:30000, time:"4d 01:13:20", fc:0 }, { meat:1200000, wood:1200000, coal:240000, iron:61000, steel:35000, time:"4d 20:40:00", fc:0 }, { meat:2400000, wood:2400000, coal:480000, iron:120000, steel:70000, time:"11d 13:46:40", fc:0 }],
    "防御特訓_Ⅴ": [{ meat:1400000, wood:1400000, coal:280000, iron:71000, steel:41000, time:"3d 18:16:40", fc:0 }, { meat:1400000, wood:1400000, coal:280000, iron:71000, steel:41000, time:"3d 18:16:40", fc:0 }, { meat:1400000, wood:1400000, coal:280000, iron:71000, steel:41000, time:"4d 03:18:20", fc:0 }, { meat:1700000, wood:1700000, coal:340000, iron:86000, steel:49000, time:"6d 13:59:10", fc:0 }, { meat:2000000, wood:2000000, coal:400000, iron:100000, steel:58000, time:"7d 21:35:00", fc:0 }, { meat:3900000, wood:3900000, coal:790000, iron:190000, steel:110000, time:"18d 19:23:20", fc:0 }],
    "生存特訓_Ⅴ": [{ meat:1400000, wood:1400000, coal:280000, iron:71000, steel:41000, time:"3d 18:16:40", fc:0 }, { meat:1400000, wood:1400000, coal:280000, iron:71000, steel:41000, time:"3d 18:16:40", fc:0 }, { meat:1400000, wood:1400000, coal:280000, iron:71000, steel:41000, time:"4d 03:18:20", fc:0 }, { meat:1700000, wood:1700000, coal:340000, iron:86000, steel:49000, time:"6d 13:59:10", fc:0 }, { meat:2000000, wood:2000000, coal:400000, iron:100000, steel:58000, time:"7d 21:35:00", fc:0 }, { meat:3900000, wood:3900000, coal:790000, iron:190000, steel:110000, time:"18d 19:23:20", fc:0 }],
    "突撃特訓_Ⅴ": [{ meat:1400000, wood:1400000, coal:280000, iron:71000, steel:41000, time:"3d 18:16:40", fc:0 }, { meat:1400000, wood:1400000, coal:280000, iron:71000, steel:41000, time:"3d 18:16:40", fc:0 }, { meat:1400000, wood:1400000, coal:280000, iron:71000, steel:41000, time:"4d 03:18:20", fc:0 }, { meat:1700000, wood:1700000, coal:340000, iron:86000, steel:49000, time:"6d 13:59:10", fc:0 }, { meat:2000000, wood:2000000, coal:400000, iron:100000, steel:58000, time:"7d 21:35:00", fc:0 }, { meat:3900000, wood:3900000, coal:790000, iron:190000, steel:110000, time:"18d 19:23:20", fc:0 }],
    "編成拡大_Ⅴ": [{ meat:1500000, wood:1500000, coal:300000, iron:77000, steel:44000, time:"4d 15:06:40", fc:0 }, { meat:1500000, wood:1500000, coal:300000, iron:77000, steel:44000, time:"4d 15:06:40", fc:0 }, { meat:1500000, wood:1500000, coal:300000, iron:77000, steel:44000, time:"5d 02:13:20", fc:0 }, { meat:1800000, wood:1800000, coal:370000, iron:92000, steel:53000, time:"8d 02:26:40", fc:0 }, { meat:2100000, wood:2100000, coal:430000, iron:100000, steel:62000, time:"9d 17:20:00", fc:0 }, { meat:4200000, wood:4200000, coal:850000, iron:210000, steel:120000, time:"23d 03:33:20", fc:0 }],
    "力戦奮闘_Ⅴ": [{ meat:550000, wood:550000, coal:110000, iron:27000, steel:16000, time:"1d 10:43:20", fc:0 }, { meat:550000, wood:550000, coal:110000, iron:27000, steel:16000, time:"1d 10:43:20", fc:0 },  { meat:550000, wood:550000, coal:110000, iron:27000, steel:16000, time:"1d 14:11:40", fc:0 },  { meat:660000, wood:660000, coal:130000, iron:33000, steel:19000, time:"2d 12:45:50", fc:0 }, { meat:770000, wood:770000, coal:150000, iron:38000, steel:22000, time:"3d 00:55:00", fc:0 }, { meat:1500000, wood:1500000, coal:300000, iron:76000, steel:44000, time:"7d 05:36:40", fc:0 }],
    "定点狙撃_Ⅴ": [{ meat:1300000, wood:1300000, coal:260000, iron:66000, steel:38000, time:"3d 11:20:00", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:66000, steel:38000, time:"3d 11:20:00", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:66000, steel:38000, time:"3d 19:40:00", fc:0 }, { meat:1500000, wood:1500000, coal:310000, iron:79000, steel:46000, time:"6d 01:50:00", fc:0 }, { meat:1800000, wood:1800000, coal:370000, iron:92000, steel:53000, time:"7d 07:00:00", fc:0 }, { meat:3600000, wood:3600000, coal:730000, iron:180000, steel:100000, time:"17d 08:40:00", fc:0 }],
    "長矛改良_Ⅴ": [{ meat:1300000, wood:1300000, coal:260000, iron:66000, steel:38000, time:"3d 11:20:00", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:66000, steel:38000, time:"3d 11:20:00", fc:0 }, { meat:1300000, wood:1300000, coal:260000, iron:66000, steel:38000, time:"3d 19:40:00", fc:0 }, { meat:1500000, wood:1500000, coal:310000, iron:79000, steel:46000, time:"6d 01:50:00", fc:0 }, { meat:1800000, wood:1800000, coal:370000, iron:92000, steel:53000, time:"7d 07:00:00", fc:0 }, { meat:3600000, wood:3600000, coal:730000, iron:180000, steel:100000, time:"17d 08:40:00", fc:0 }],
    "盾改良_Ⅴ":   [{ meat:1600000, wood:1600000, coal:330000, iron:83000, steel:48000, time:"4d 08:10:00", fc:0 }, { meat:1600000, wood:1600000, coal:330000, iron:83000, steel:48000, time:"4d 08:10:00", fc:0 }, { meat:1600000, wood:1600000, coal:330000, iron:83000, steel:48000, time:"4d 18:35:00", fc:0 }, { meat:1900000, wood:1900000, coal:390000, iron:99000, steel:57000, time:"7d 14:17:30", fc:0 }, { meat:2300000, wood:2300000, coal:460000, iron:110000, steel:67000, time:"9d 02:45:00", fc:0 }, { meat:4500000, wood:4500000, coal:910000, iron:220000, steel:130000, time:"21d 16:50:00", fc:0 }],
    "弓兵防具_Ⅴ": [{ meat:880000, wood:880000, coal:170000, iron:44000, steel:25000, time:"2d 07:33:20", fc:0 }, { meat:880000, wood:880000, coal:170000, iron:44000, steel:25000, time:"2d 07:33:20", fc:0 }, { meat:880000, wood:880000, coal:170000, iron:44000, steel:25000, time:"2d 13:06:40", fc:0 }, { meat:1000000, wood:1000000, coal:210000, iron:53000, steel:30000, time:"4d 01:13:20", fc:0 }, { meat:1200000, wood:1200000, coal:240000, iron:61000, steel:35000, time:"4d 20:40:00", fc:0 }, { meat:2400000, wood:2400000, coal:480000, iron:120000, steel:70000, time:"11d 13:46:40", fc:0 }],    "槍兵防具_Ⅴ": [{ meat:880000, wood:880000, coal:170000, iron:44000, steel:25000, time:"2d 07:33:20", fc:0 }, { meat:880000, wood:880000, coal:170000, iron:44000, steel:25000, time:"2d 07:33:20", fc:0 }, { meat:880000, wood:880000, coal:170000, iron:44000, steel:25000, time:"2d 13:06:40", fc:0 }, { meat:1000000, wood:1000000, coal:210000, iron:53000, steel:30000, time:"4d 01:13:20", fc:0 }, { meat:1200000, wood:1200000, coal:240000, iron:61000, steel:35000, time:"4d 20:40:00", fc:0 }, { meat:2400000, wood:2400000, coal:480000, iron:120000, steel:70000, time:"11d 13:46:40", fc:0 }],

    // --- ランク Ⅵ (Max Lv6) ---
    "武器特訓_Ⅵ": [{ meat:5000000, wood:5000000, coal:1000000, iron:250000, steel:83000, time:"18d 01:20:00", fc:0 }, { meat:5000000, wood:5000000, coal:1000000, iron:250000, steel:83000, time:"18d 01:20:00", fc:0 }, { meat:5000000, wood:5000000, coal:1000000, iron:250000, steel:83000, time:"19d 20:40:00", fc:0 }, { meat:6000000, wood:6000000, coal:1200000, iron:300000, steel:99000, time:"31d 14:20:00", fc:0 }, { meat:7000000, wood:7000000, coal:1400000, iron:350000, steel:110000, time:"37d 22:00:00", fc:0 }, { meat:13000000, wood:13000000, coal:2700000, iron:690000, steel:220000, time:"90d 06:40:00", fc:0 }],
    "防衛反撃_Ⅵ": [{ meat:1900000, wood:1900000, coal:380000, iron:97000, steel:32000, time:"6d 22:40:00", fc:0 }, { meat:1900000, wood:1900000, coal:380000, iron:97000, steel:32000, time:"6d 22:40:00", fc:0 }, { meat:1900000, wood:1900000, coal:380000, iron:97000, steel:32000, time:"7d 15:20:00", fc:0 }, { meat:2300000, wood:2300000, coal:460000, iron:110000, steel:38000, time:"12d 03:40:00", fc:0 }, { meat:2700000, wood:2700000, coal:540000, iron:130000, steel:44000, time:"14d 14:00:00", fc:0 }, { meat:5300000, wood:5300000, coal:1000000, iron:260000, steel:88000, time:"34d 17:20:00", fc:0 }],
    "精密射撃_Ⅵ": [{ meat:4600000, wood:4600000, coal:930000, iron:230000, steel:76000, time:"16d 16:00:00", fc:0 }, { meat:4600000, wood:4600000, coal:930000, iron:230000, steel:76000, time:"16d 16:00:00", fc:0 }, { meat:4600000, wood:4600000, coal:930000, iron:230000, steel:76000, time:"18d 18:00:00", fc:0 }, { meat:5500000, wood:5500000, coal:1100000, iron:270000, steel:92000, time:"29d 04:00:00", fc:0 }, { meat:6500000, wood:6500000, coal:1300000, iron:320000, steel:100000, time:"35d 00:00:00", fc:0 }, { meat:12000000, wood:12000000, coal:2500000, iron:640000, steel:210000, time:"83d 08:00:00", fc:0 }],
    "高速突刺_Ⅵ": [{ meat:4600000, wood:4600000, coal:930000, iron:230000, steel:76000, time:"16d 16:00:00", fc:0 }, { meat:4600000, wood:4600000, coal:930000, iron:230000, steel:76000, time:"16d 16:00:00", fc:0 }, { meat:4600000, wood:4600000, coal:930000, iron:230000, steel:76000, time:"18d 18:00:00", fc:0 }, { meat:5500000, wood:5500000, coal:1100000, iron:270000, steel:92000, time:"29d 04:00:00", fc:0 }, { meat:6500000, wood:6500000, coal:1300000, iron:320000, steel:100000, time:"35d 00:00:00", fc:0 }, { meat:12000000, wood:12000000, coal:2500000, iron:640000, steel:210000, time:"83d 08:00:00", fc:0 }],
    "防衛陣形_Ⅵ": [{ meat:5800000, wood:5800000, coal:1100000, iron:290000, steel:96000, time:"20d 20:00:00", fc:0 }, { meat:5800000, wood:5800000, coal:1100000, iron:290000, steel:96000, time:"20d 20:00:00", fc:0 }, { meat:5800000, wood:5800000, coal:1100000, iron:290000, steel:96000, time:"22d 22:00:00", fc:0 }, { meat:6900000, wood:6900000, coal:1300000, iron:340000, steel:110000, time:"36d 11:00:00", fc:0 }, { meat:8100000, wood:8100000, coal:1600000, iron:400000, steel:130000, time:"43d 18:00:00", fc:0 }, { meat:16000000, wood:16000000, coal:3200000, iron:800000, steel:260000, time:"104d 04:00:00", fc:0 }],
    "警戒隊形_Ⅵ": [{ meat:3100000, wood:3100000, coal:620000, iron:150000, steel:51000, time:"11d 02:40:00", fc:0 }, { meat:3100000, wood:3100000, coal:620000, iron:150000, steel:51000, time:"11d 02:40:00", fc:0 }, { meat:3100000, wood:3100000, coal:620000, iron:150000, steel:51000, time:"12d 05:20:00", fc:0 }, { meat:3700000, wood:3700000, coal:740000, iron:180000, steel:61000, time:"19d 10:40:00", fc:0 }, { meat:4300000, wood:4300000, coal:870000, iron:210000, steel:71000, time:"23d 08:00:00", fc:0 }, { meat:8500000, wood:8500000, coal:1700000, iron:420000, steel:140000, time:"55d 13:20:00", fc:0 }],
    "堅守陣地_Ⅵ": [{ meat:3100000, wood:3100000, coal:620000, iron:150000, steel:51000, time:"11d 02:40:00", fc:0 }, { meat:3100000, wood:3100000, coal:620000, iron:150000, steel:51000, time:"11d 02:40:00", fc:0 }, { meat:3100000, wood:3100000, coal:620000, iron:150000, steel:51000, time:"12d 05:20:00", fc:0 }, { meat:3700000, wood:3700000, coal:740000, iron:180000, steel:61000, time:"19d 10:40:00", fc:0 }, { meat:4300000, wood:4300000, coal:870000, iron:210000, steel:71000, time:"23d 08:00:00", fc:0 }, { meat:8500000, wood:8500000, coal:1700000, iron:420000, steel:140000, time:"55d 13:20:00", fc:0 }],
    "防御特訓_Ⅵ": [{ meat:5000000, wood:5000000, coal:1000000, iron:250000, steel:83000, time:"18d 01:20:00", fc:0 }, { meat:5000000, wood:5000000, coal:1000000, iron:250000, steel:83000, time:"18d 01:20:00", fc:0 }, { meat:5000000, wood:5000000, coal:1000000, iron:250000, steel:83000, time:"19d 20:40:00", fc:0 }, { meat:6000000, wood:6000000, coal:1200000, iron:300000, steel:99000, time:"31d 14:20:00", fc:0 }, { meat:7000000, wood:7000000, coal:1400000, iron:350000, steel:110000, time:"37d 22:00:00", fc:0 }, { meat:13000000, wood:13000000, coal:2700000, iron:690000, steel:220000, time:"90d 06:40:00", fc:0 }],
    "生存特訓_Ⅵ": [{ meat:5000000, wood:5000000, coal:1000000, iron:250000, steel:83000, time:"18d 01:20:00", fc:0 }, { meat:5000000, wood:5000000, coal:1000000, iron:250000, steel:83000, time:"18d 01:20:00", fc:0 }, { meat:5000000, wood:5000000, coal:1000000, iron:250000, steel:83000, time:"19d 20:40:00", fc:0 }, { meat:6000000, wood:6000000, coal:1200000, iron:300000, steel:99000, time:"31d 14:20:00", fc:0 }, { meat:7000000, wood:7000000, coal:1400000, iron:350000, steel:110000, time:"37d 22:00:00", fc:0 }, { meat:13000000, wood:13000000, coal:2700000, iron:690000, steel:220000, time:"90d 06:40:00", fc:0 }],
    "突撃特訓_Ⅵ": [{ meat:5000000, wood:5000000, coal:1000000, iron:250000, steel:83000, time:"18d 01:20:00", fc:0 }, { meat:5000000, wood:5000000, coal:1000000, iron:250000, steel:83000, time:"18d 01:20:00", fc:0 }, { meat:5000000, wood:5000000, coal:1000000, iron:250000, steel:83000, time:"19d 20:40:00", fc:0 }, { meat:6000000, wood:6000000, coal:1200000, iron:300000, steel:99000, time:"31d 14:20:00", fc:0 }, { meat:7000000, wood:7000000, coal:1400000, iron:350000, steel:110000, time:"37d 22:00:00", fc:0 }, { meat:13000000, wood:13000000, coal:2700000, iron:690000, steel:220000, time:"90d 06:40:00", fc:0 }],
    "編成拡大_Ⅵ": [{ meat:5400000, wood:5400000, coal:1000000, iron:270000, steel:89000, time:"22d 05:20:00", fc:0 }, { meat:5400000, wood:5400000, coal:1000000, iron:270000, steel:89000, time:"22d 05:20:00", fc:0 }, { meat:5400000, wood:5400000, coal:1000000, iron:270000, steel:89000, time:"24d 10:40:00", fc:0 }, { meat:6500000, wood:6500000, coal:1500000, iron:320000, steel:100000, time:"38d 21:20:00", fc:0 }, { meat:7600000, wood:7600000, coal:1500000, iron:380000, steel:120000, time:"46d 16:00:00", fc:0 }, { meat:14000000, wood:14000000, coal:2900000, iron:740000, steel:240000, time:"111d 02:40:00", fc:0 }],
    "力戦奮闘_Ⅵ": [{ meat:1900000, wood:1900000, coal:380000, iron:97000, steel:32000, time:"6d 22:40:00", fc:0 }, { meat:1900000, wood:1900000, coal:380000, iron:97000, steel:32000, time:"6d 22:40:00", fc:0 }, { meat:1900000, wood:1900000, coal:380000, iron:97000, steel:32000, time:"7d 15:20:00", fc:0 }, { meat:2300000, wood:2300000, coal:460000, iron:110000, steel:38000, time:"12d 03:40:00", fc:0 }, { meat:2700000, wood:2700000, coal:540000, iron:130000, steel:44000, time:"14d 14:00:00", fc:0 }, { meat:5300000, wood:5300000, coal:1000000, iron:260000, steel:88000, time:"34d 17:20:00", fc:0 }],
    "定点狙撃_Ⅵ": [{ meat:4600000, wood:4600000, coal:930000, iron:230000, steel:76000, time:"16d 16:00:00", fc:0 }, { meat:4600000, wood:4600000, coal:930000, iron:230000, steel:76000, time:"16d 16:00:00", fc:0 }, { meat:4600000, wood:4600000, coal:930000, iron:230000, steel:76000, time:"18d 18:00:00", fc:0 }, { meat:5500000, wood:5500000, coal:1100000, iron:270000, steel:92000, time:"29d 04:00:00", fc:0 }, { meat:6500000, wood:6500000, coal:1300000, iron:320000, steel:100000, time:"35d 00:00:00", fc:0 }, { meat:12000000, wood:12000000, coal:2500000, iron:640000, steel:210000, time:"83d 08:00:00", fc:0 }],
    "長矛改良_Ⅵ": [{ meat:4600000, wood:4600000, coal:930000, iron:230000, steel:76000, time:"16d 16:00:00", fc:0 }, { meat:4600000, wood:4600000, coal:930000, iron:230000, steel:76000, time:"16d 16:00:00", fc:0 }, { meat:4600000, wood:4600000, coal:930000, iron:230000, steel:76000, time:"18d 18:00:00", fc:0 }, { meat:5500000, wood:5500000, coal:1100000, iron:270000, steel:92000, time:"29d 04:00:00", fc:0 }, { meat:6500000, wood:6500000, coal:1300000, iron:320000, steel:100000, time:"35d 00:00:00", fc:0 }, { meat:12000000, wood:12000000, coal:2500000, iron:640000, steel:210000, time:"83d 08:00:00", fc:0 }],
    "盾改良_Ⅵ":   [{ meat:5800000, wood:5800000, coal:1100000, iron:290000, steel:96000, time:"20d 20:00:00", fc:0 }, { meat:5800000, wood:5800000, coal:1100000, iron:290000, steel:96000, time:"20d 20:00:00", fc:0 }, { meat:5800000, wood:5800000, coal:1100000, iron:290000, steel:96000, time:"22d 22:00:00", fc:0 }, { meat:6900000, wood:6900000, coal:1300000, iron:340000, steel:110000, time:"36d 11:00:00", fc:0 }, { meat:8100000, wood:8100000, coal:1600000, iron:400000, steel:130000, time:"43d 18:00:00", fc:0 }, { meat:16000000, wood:16000000, coal:3200000, iron:800000, steel:260000, time:"104d 04:00:00", fc:0 }],
    "弓兵防具_Ⅵ": [{ meat:3100000, wood:3100000, coal:620000, iron:150000, steel:51000, time:"11d 02:40:00", fc:0 }, { meat:3100000, wood:3100000, coal:620000, iron:150000, steel:51000, time:"11d 02:40:00", fc:0 }, { meat:3100000, wood:3100000, coal:620000, iron:150000, steel:51000, time:"12d 05:20:00", fc:0 }, { meat:3700000, wood:3700000, coal:740000, iron:180000, steel:61000, time:"19d 10:40:00", fc:0 }, { meat:4300000, wood:4300000, coal:870000, iron:210000, steel:71000, time:"23d 08:00:00", fc:0 }, { meat:8500000, wood:8500000, coal:1700000, iron:420000, steel:140000, time:"55d 13:20:00", fc:0 }],
    "槍兵防具_Ⅵ": [{ meat:3100000, wood:3100000, coal:620000, iron:150000, steel:51000, time:"11d 02:40:00", fc:0 }, { meat:3100000, wood:3100000, coal:620000, iron:150000, steel:51000, time:"11d 02:40:00", fc:0 }, { meat:3100000, wood:3100000, coal:620000, iron:150000, steel:51000, time:"12d 05:20:00", fc:0 }, { meat:3700000, wood:3700000, coal:740000, iron:180000, steel:61000, time:"19d 10:40:00", fc:0 }, { meat:4300000, wood:4300000, coal:870000, iron:210000, steel:71000, time:"23d 08:00:00", fc:0 }, { meat:8500000, wood:8500000, coal:1700000, iron:420000, steel:140000, time:"55d 13:20:00", fc:0 }],

    // --- 共通: 烈焔戦隊, 烈焔軍団 ---
    "烈焔戦隊": DATA_ACA_SQD,
    "烈焔軍団": DATA_ACA_CORPS,

    // --- 盾兵 ---
    "怒炎の猛撃": DATA_ACA_STAT_1,
    "怒炎の盾":   DATA_ACA_STAT_1,
    "怒炎の戦斧": DATA_ACA_STAT_2,
    "怒炎の庇護": DATA_ACA_STAT_2,
    "烈日盾兵":   DATA_ACA_T11,
    "烈日盾兵治療": DATA_ACA_T11_HT,
    "烈日盾兵訓練": DATA_ACA_T11_HT,
    "烈日盾兵救急": DATA_ACA_T11_AID,

    // --- 槍兵 ---
    "熾烈な突撃": DATA_ACA_STAT_1,
    "熾烈な鎧":   DATA_ACA_STAT_1,
    "熾烈な戦矛": DATA_ACA_STAT_2,
    "熾烈な加護": DATA_ACA_STAT_2,
    "烈日槍兵":   DATA_ACA_T11,
    "烈日槍兵治療": DATA_ACA_T11_HT,
    "烈日槍兵訓練": DATA_ACA_T11_HT,
    "烈日槍兵救急": DATA_ACA_T11_AID,

    // --- 弓兵 ---
    "燃晶視界":   DATA_ACA_STAT_1,
    "燃晶鱗甲":   DATA_ACA_STAT_1,
    "燃晶矢石":   DATA_ACA_STAT_2,
    "燃晶加護":   DATA_ACA_STAT_2,
    "烈日弓兵":   DATA_ACA_T11,
    "烈日弓兵治療": DATA_ACA_T11_HT,
    "烈日弓兵訓練": DATA_ACA_T11_HT,
    "烈日弓兵救急": DATA_ACA_T11_AID
  };

// 実データを参照する計算関数
function getCost(category, params, targetLevel) {
  const itemName = params.item;
  const itemData = COST_DB[itemName];

  // データ未登録時のデフォルト（すべて0）
  const emptyCost = { meat: 0, wood: 0, coal: 0, iron: 0, steel: 0, time: 0, fc: 0 };

  if (!itemData) {
    return emptyCost;
  }

  const index = targetLevel - 1; // 配列インデックスは0始まりのため -1

  if (itemData[index]) {
    return itemData[index];
  } else {
    // データ不足
    return emptyCost;
  }
}

/**
 * ====================================================================
 * UI操作・計算ロジック
 * ====================================================================
 */

  /**
   * ====================================================================
   * UI操作・計算ロジック (重複しないよう、ここから下をすべて上書きしてください)
   * ====================================================================
   */

  let currentTab = 'science';

  // DOM要素
  const els = {
    science: {
      type: document.getElementById('science-type'),
      item: document.getElementById('science-item'),
      effect: document.getElementById('science-effect-display'),
      rank: document.getElementById('science-rank'),
      current: document.getElementById('science-current'),
      target: document.getElementById('science-target')
    },
    academy: {
      type: document.getElementById('academy-type'),
      container: document.getElementById('academy-list-container')
    },
    // 共通入力
    common: {
      speed: document.getElementById('research-speed'),
      valeria: document.getElementById('valeria-bonus')
    },
    result: {
      area: document.getElementById('result-area'),
      meat: document.getElementById('res-meat'),
      wood: document.getElementById('res-wood'),
      coal: document.getElementById('res-coal'),
      iron: document.getElementById('res-iron'),
      steel: document.getElementById('res-steel'),
      fc: document.getElementById('res-fc'),
      time: document.getElementById('res-time'),
      rowFc: document.getElementById('row-fc'),
      svsPoints: document.getElementById('res-svs-points')
    }
  };

  // 初期化処理
  document.addEventListener('DOMContentLoaded', () => {
    // タイプ選択肢の生成
    Object.keys(GAME_DATA.science.types).forEach(type => {
      const opt = document.createElement('option');
      opt.value = type;
      opt.textContent = type;
      els.science.type.appendChild(opt);
    });

    // イベントリスナーの設定
    els.science.type.addEventListener('change', updateScienceOptions);

    els.science.item.addEventListener('change', () => {
      updateScienceRankOptions();
      updateScienceEffect();
      updateScienceLevels();
    });

    els.science.rank.addEventListener('change', updateScienceLevels);
    els.science.current.addEventListener('change', updateScienceTargetOptions);

    // 初回実行
    updateScienceOptions();
    renderAcademyList();
  });

  // タブ切り替え
  function switchTab(tabName) {
    currentTab = tabName;
    document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

    if(tabName === 'science') {
      document.querySelector('button[onclick="switchTab(\'science\')"]').classList.add('active');
      document.getElementById('tab-science').classList.add('active');
      els.result.rowFc.style.display = 'none';
    } else {
      document.querySelector('button[onclick="switchTab(\'academy\')"]').classList.add('active');
      document.getElementById('tab-academy').classList.add('active');
      els.result.rowFc.style.display = 'flex';
    }
    els.result.area.style.display = 'none';
  }

  /* --- 科学研究ロジック --- */
  function updateScienceOptions() {
    const type = els.science.type.value;
    const data = GAME_DATA.science.types[type];

    // 項目の生成
    els.science.item.innerHTML = '';
    data.items.forEach(itemObj => {
      els.science.item.add(new Option(itemObj.name, itemObj.name));
    });

    updateScienceRankOptions();
    updateScienceEffect();
    updateScienceLevels();
  }

  function updateScienceRankOptions() {
    const type = els.science.type.value;
    const itemName = els.science.item.value;
    const data = GAME_DATA.science.types[type];
    const itemObj = data.items.find(i => i.name === itemName);

    let availableRanks = data.ranks;

    // ランク制限の反映
    if (itemObj && itemObj.limitRank) {
      const limitIndex = availableRanks.indexOf(itemObj.limitRank);
      if (limitIndex !== -1) {
        availableRanks = availableRanks.slice(0, limitIndex + 1);
      }
    }

    els.science.rank.innerHTML = '';
    availableRanks.forEach(rank => {
      els.science.rank.add(new Option(rank, rank));
    });
  }

  function updateScienceEffect() {
    const type = els.science.type.value;
    const itemName = els.science.item.value;
    const data = GAME_DATA.science.types[type];
    const itemObj = data.items.find(i => i.name === itemName);
    if (itemObj) {
      els.science.effect.textContent = `効果：${itemObj.effect}`;
    } else {
      els.science.effect.textContent = "";
    }
  }

  function updateScienceLevels() {
    const type = els.science.type.value;
    const rank = els.science.rank.value;
    const itemName = els.science.item.value;
    const data = GAME_DATA.science.types[type];
    const itemObj = data.items.find(i => i.name === itemName);

    let maxLv = 0;
    if (itemObj && itemObj.max !== undefined) {
      maxLv = itemObj.max;
    } else {
      const rule = data.maxLevelRule;
      if (rule === 'combat-variable') {
        maxLv = GAME_DATA.science.maxLevels['combat-variable'][rank] || 3;
      } else {
        maxLv = GAME_DATA.science.maxLevels['fixed-3'].default;
      }
    }

    const currentVal = parseInt(els.science.current.value) || 0;
    els.science.current.innerHTML = '';

    const limit = Math.max(0, maxLv - 1);
    for (let i = 0; i <= limit; i++) {
      els.science.current.add(new Option(i, i));
    }

    if (currentVal <= limit) els.science.current.value = currentVal;
    else els.science.current.value = 0;

    updateScienceTargetOptions();
  }

  function updateScienceTargetOptions() {
    const type = els.science.type.value;
    const rank = els.science.rank.value;
    const itemName = els.science.item.value;
    const currentLv = parseInt(els.science.current.value);
    const data = GAME_DATA.science.types[type];
    const itemObj = data.items.find(i => i.name === itemName);

    let maxLv = 0;
    if (itemObj && itemObj.max !== undefined) {
      maxLv = itemObj.max;
    } else {
      const rule = data.maxLevelRule;
      if (rule === 'combat-variable') {
        maxLv = GAME_DATA.science.maxLevels['combat-variable'][rank] || 3;
      } else {
        maxLv = GAME_DATA.science.maxLevels['fixed-3'].default;
      }
    }

    const targetVal = parseInt(els.science.target.value) || 0;
    els.science.target.innerHTML = '';

    for (let i = currentLv + 1; i <= maxLv; i++) {
      els.science.target.add(new Option(i, i));
    }

    if (targetVal > currentLv && targetVal <= maxLv) {
      els.science.target.value = targetVal;
    } else if (els.science.target.options.length > 0) {
      els.science.target.selectedIndex = 0;
    }
  }

  /* --- 戦争学園ロジック --- */
  function renderAcademyList() {
    const type = els.academy.type.value;
    const items = GAME_DATA.academy[type];
    const container = els.academy.container;

    container.innerHTML = ''; 

    items.forEach((item, index) => {
      const div = document.createElement('div');
      div.className = 'research-item-block';

      div.innerHTML = `
        <div class="research-header">
          <label style="margin:0; color:var(--text-main); cursor:pointer; display:flex; align-items:center; gap:10px; width:100%;">
            <input type="checkbox" class="aca-check" data-index="${index}">
            <span>${item.name}</span>
            <span class="research-header-sub">(Max Lv.${item.max})</span>
          </label>
        </div>
        <div class="aca-effect">${item.effect || ""}</div>
        <div class="research-inputs">
          <div style="flex:1;">
            <label>現在レベル</label>
            <select class="aca-curr" data-index="${index}"></select>
          </div>
          <div style="flex:1;">
            <label>目標レベル</label>
            <select class="aca-target" data-index="${index}"></select>
          </div>
        </div>
      `;
      container.appendChild(div);

      const currSelect = div.querySelector('.aca-curr');
      const targetSelect = div.querySelector('.aca-target');
      const maxLv = item.max;

      for(let i = 0; i < maxLv; i++) {
        currSelect.add(new Option(i, i));
      }

      const updateTarget = () => {
        const currentLv = parseInt(currSelect.value);
        const prevTarget = parseInt(targetSelect.value);
        targetSelect.innerHTML = '';
        for(let i = currentLv + 1; i <= maxLv; i++) {
          targetSelect.add(new Option(i, i));
        }
        if(prevTarget > currentLv && prevTarget <= maxLv) {
          targetSelect.value = prevTarget;
        } else if (targetSelect.options.length > 0) {
          targetSelect.selectedIndex = 0;
        }
      };

      updateTarget();
      currSelect.addEventListener('change', updateTarget);

      const checkbox = div.querySelector('.aca-check');
      checkbox.addEventListener('change', function() {
        if(this.checked) div.classList.add('active');
        else div.classList.remove('active');
      });
    });
  }

  /* --- 計算実行 (研究速度反映版) --- */
  function calculate() {
    let total = { meat: 0, wood: 0, coal: 0, iron: 0, steel: 0, time: 0, fc: 0 };

    // 研究速度の取得とバリデーション
    const speedInput = els.common.speed.value;
    let speedMultiplier = 1;

    if (speedInput !== "") {
      const speedPercent = parseFloat(speedInput);
      if (isNaN(speedPercent)) {
        alert("研究速度には正しい数値を入力してください");
        return;
      }
      if (speedPercent < 0) {
        alert("研究速度には0以上の数値を入力してください");
        return;
      }
      // 時間 = 元の時間 / (1 + 速度%/100)
      speedMultiplier = 1 + (speedPercent / 100);
    }

    if (currentTab === 'science') {
      const type = els.science.type.value;
      const itemName = els.science.item.value; 
      const rank = els.science.rank.value;
      const startLv = parseInt(els.science.current.value);
      const endLv = parseInt(els.science.target.value);

      if (!isNaN(startLv) && !isNaN(endLv) && endLv > startLv) {
        for (let lv = startLv + 1; lv <= endLv; lv++) {
          const cost = getCost('science', { type, item: itemName, rank }, lv);

          // 時間計算 (切り上げ)
          const baseSeconds = parseTime(cost.time);
          const realSeconds = Math.ceil(baseSeconds / speedMultiplier);

          addCost(total, cost, realSeconds);
        }
      }

    } else {
      const checkboxes = document.querySelectorAll('.aca-check:checked');
      if (checkboxes.length === 0) {
        alert("研究項目を選択してください（チェックボックスをON）");
        return;
      }

      checkboxes.forEach(chk => {
        const block = chk.closest('.research-item-block');
        const startLv = parseInt(block.querySelector('.aca-curr').value);
        const endLv = parseInt(block.querySelector('.aca-target').value);
        const index = chk.dataset.index;
        const type = els.academy.type.value;
        const itemName = GAME_DATA.academy[type][index].name;

        if (!isNaN(startLv) && !isNaN(endLv) && endLv > startLv) {
          for (let lv = startLv + 1; lv <= endLv; lv++) {
            const cost = getCost('academy', { type, item: itemName }, lv);

            // 時間計算 (切り上げ)
            const baseSeconds = parseTime(cost.time);
            const realSeconds = Math.ceil(baseSeconds / speedMultiplier);

            addCost(total, cost, realSeconds);
          }
        }
      });
    }

    renderResult(total);
  }

  // データ取得
  function getCost(category, params, targetLevel) {
    let dbKey = params.item; 
    if (category === 'science') {
      dbKey = `${params.item}_${params.rank}`;
    }

    const itemData = COST_DB[dbKey];
    const emptyCost = { meat: 0, wood: 0, coal: 0, iron: 0, steel: 0, time: 0, fc: 0 };

    if (!itemData) return emptyCost;

    const index = targetLevel - 1;
    return itemData[index] || emptyCost;
  }

  // 時間パース
  function parseTime(input) {
    if (typeof input === 'number') return input;
    if (!input) return 0;

    let d = 0, h = 0, m = 0, s = 0;
    if (input.includes("d")) {
      const parts = input.replace("d", ":").replace(/\s+/g, "").split(":");
      d = parseInt(parts[0]) || 0;
      h = parseInt(parts[1]) || 0;
      m = parseInt(parts[2]) || 0;
      s = parseInt(parts[3]) || 0;
    } else if (input.split(":").length === 3) {
      const parts = input.split(":");
      h = parseInt(parts[0]) || 0;
      m = parseInt(parts[1]) || 0;
      s = parseInt(parts[2]) || 0;
    } else if (input.split(":").length === 2) {
      const parts = input.split(":");
      m = parseInt(parts[0]) || 0;
      s = parseInt(parts[1]) || 0;
    }
    return (d * 86400) + (h * 3600) + (m * 60) + s;
  }

  // コスト加算
  function addCost(total, cost, seconds) {
    total.meat += cost.meat || 0;
    total.wood += cost.wood || 0;
    total.coal += cost.coal || 0;
    total.iron += cost.iron || 0;
    total.steel += cost.steel || 0;
    total.fc += cost.fc || 0;
    total.time += seconds;
  }

  // 数値フォーマット
  function formatNum(num) {
    if (num === 0) return "0";
    if (num >= 1000000000) return (num / 1000000000).toFixed(1).replace(/\.0$/, '') + 'G';
    if (num >= 1000000) return (num / 1000000).toFixed(1).replace(/\.0$/, '') + 'M';
    if (num >= 1000) return (num / 1000).toFixed(1).replace(/\.0$/, '') + 'K';
    return num.toLocaleString();
  }

  // 結果表示
  function renderResult(total) {
    els.result.meat.textContent = formatNum(total.meat);
    els.result.wood.textContent = formatNum(total.wood);
    els.result.coal.textContent = formatNum(total.coal);
    els.result.iron.textContent = formatNum(total.iron);
    els.result.steel.textContent = formatNum(total.steel);
    els.result.fc.textContent = total.fc.toLocaleString();

    const totalSec = total.time;
    const d = Math.floor(totalSec / 86400);
    const h = Math.floor((totalSec % 86400) / 3600);
    const m = Math.floor((totalSec % 3600) / 60);
    const s = totalSec % 60;

    let timeStr = "";
    if (d > 0) timeStr += `${d}d `;
    if (h > 0) timeStr += `${h}h `;
    if (m > 0) timeStr += `${m}m `;
    if (s > 0 || timeStr === "") timeStr += `${s}s`;

    els.result.time.textContent = timeStr;

    // --- ▼ SVSポイント計算修正 ---
    // 火晶微粒子1個：1000ポイント
    // 研究時間1分：30ポイント (秒は切り捨て)
    const valeriaMult = parseFloat(els.common.valeria.value) || 1.0;

    const fcPoints = total.fc * 1000;

    // 秒を切り捨てて「分」に変換 (例: 1分59秒 -> 1分)
    const timeMinutes = Math.floor(totalSec / 60);
    const timePoints = timeMinutes * 30;

    // 合計 × ヴァレリア倍率 (四捨五入)
    const totalPoints = Math.round((fcPoints + timePoints) * valeriaMult);

    els.result.svsPoints.textContent = totalPoints.toLocaleString();

    els.result.area.style.display = 'block';
    els.result.area.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  }

</script>
</body>
</html>
